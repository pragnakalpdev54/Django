
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://pragnakalpdev54.github.io/Django/03_FBV_Views_and_URLs.html">
      
      
        <link rel="prev" href="02_FBV_Models_and_Database.html">
      
      
        <link rel="next" href="04_FBV_Templates_and_Forms.html">
      
      
        
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Views & URLs - Django Training Guide</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/footer.css">
    
      <link rel="stylesheet" href="assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="assets/stylesheets/sidebar.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-3-function-based-views-views-urls" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="index.html" title="Django Training Guide" class="md-header__button md-logo" aria-label="Django Training Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Django Training Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Views & URLs
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="index.html" title="Django Training Guide" class="md-nav__button md-logo" aria-label="Django Training Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Django Training Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="01_Introduction_and_Setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction & Setup
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="02_FBV_Models_and_Database.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Models & Database
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Views & URLs
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="03_FBV_Views_and_URLs.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Views & URLs
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Views
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#request-response-cycle" class="md-nav__link">
    <span class="md-ellipsis">
      
        Request-Response Cycle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#basic-view-structure" class="md-nav__link">
    <span class="md-ellipsis">
      
        Basic View Structure
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-function-based-views-step-by-step" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Function-Based Views Step-by-Step
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating Function-Based Views Step-by-Step">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-your-first-simple-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Your First Simple View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-add-user-filtering" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Add User Filtering
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-add-login-protection" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Add Login Protection
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-4-add-search-functionality" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 4: Add Search Functionality
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-5-add-filtering-and-sorting" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 5: Add Filtering and Sorting
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-6-create-task-detail-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 6: Create Task Detail View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-7-create-task-creation-view-understanding-get-vs-post" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 7: Create Task Creation View (Understanding GET vs POST)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-8-create-task-update-view-using-patch-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 8: Create Task Update View (Using PATCH Method)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-9-create-task-delete-view-using-delete-method-soft-delete" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 9: Create Task Delete View (Using DELETE Method &amp; Soft Delete)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Step 9: Create Task Delete View (Using DELETE Method &amp; Soft Delete)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#option-1-soft-delete-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option 1: Soft Delete (Recommended)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#option-2-hard-delete-with-delete-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        Option 2: Hard Delete with DELETE Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-deleted-task-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Restore Deleted Task View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#view-deleted-tasks" class="md-nav__link">
    <span class="md-ellipsis">
      
        View Deleted Tasks
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-10-create-toggle-complete-view" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 10: Create Toggle Complete View
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complete-viewspy-file" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complete views.py File
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-view-components" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding View Components
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#url-configuration" class="md-nav__link">
    <span class="md-ellipsis">
      
        URL Configuration
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URL Configuration">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-app-urls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Create App URLs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-include-app-urls-in-project" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: Include App URLs in Project
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-patterns-explained" class="md-nav__link">
    <span class="md-ellipsis">
      
        URL Patterns Explained
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-naming-and-reverse-lookup" class="md-nav__link">
    <span class="md-ellipsis">
      
        URL Naming and Reverse Lookup
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#http-methods-in-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        HTTP Methods in Views
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="HTTP Methods in Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-vs-post" class="md-nav__link">
    <span class="md-ellipsis">
      
        GET vs POST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#handling-different-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Handling Different Methods
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#method-based-logic" class="md-nav__link">
    <span class="md-ellipsis">
      
        Method-Based Logic
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#working-with-request-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        Working with Request Data
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Working with Request Data">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#get-parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        GET Parameters
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#post-data" class="md-nav__link">
    <span class="md-ellipsis">
      
        POST Data
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#file-uploads" class="md-nav__link">
    <span class="md-ellipsis">
      
        File Uploads
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authentication-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        Authentication Views
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authentication Views">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#user-registration" class="md-nav__link">
    <span class="md-ellipsis">
      
        User Registration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-login" class="md-nav__link">
    <span class="md-ellipsis">
      
        User Login
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#user-logout" class="md-nav__link">
    <span class="md-ellipsis">
      
        User Logout
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#update-urls-for-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      
        Update URLs for Authentication
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#advanced-view-patterns" class="md-nav__link">
    <span class="md-ellipsis">
      
        Advanced View Patterns
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Advanced View Patterns">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#pagination" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pagination
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ajax-views-json-response" class="md-nav__link">
    <span class="md-ellipsis">
      
        AJAX Views (JSON Response)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#custom-404-and-500-views" class="md-nav__link">
    <span class="md-ellipsis">
      
        Custom 404 and 500 Views
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#view-best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        View Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="View Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-keep-views-thin" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Keep Views Thin
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-get_object_or_404" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use get_object_or_404
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-always-validate-user-permissions" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Always Validate User Permissions
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-use-messages-for-feedback" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Use Messages for Feedback
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-redirect-after-post" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Redirect After POST
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-handle-both-get-and-post" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Handle Both GET and POST
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#url-organization" class="md-nav__link">
    <span class="md-ellipsis">
      
        URL Organization
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="URL Organization">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#namespacing-urls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Namespacing URLs
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#url-includes-with-prefix" class="md-nav__link">
    <span class="md-ellipsis">
      
        URL Includes with Prefix
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="04_FBV_Templates_and_Forms.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Templates & Forms
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="05_FBV_Complete_Project.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complete Project
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="part-3-function-based-views-views-urls">Part 3: Function-Based Views - Views &amp; URLs<a class="headerlink" href="#part-3-function-based-views-views-urls" title="Permanent link">&para;</a></h1>
<h2 id="understanding-views">Understanding Views<a class="headerlink" href="#understanding-views" title="Permanent link">&para;</a></h2>
<p>Views are Python functions (or classes) that receive web requests and return web responses. They contain the business logic of your application.</p>
<h3 id="request-response-cycle">Request-Response Cycle<a class="headerlink" href="#request-response-cycle" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>User Browser → URL → View Function → Template → HTML Response → User Browser
</code></pre></div>

<h3 id="basic-view-structure">Basic View Structure<a class="headerlink" href="#basic-view-structure" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">HttpResponse</span>

<span class="k">def</span><span class="w"> </span><span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># Process request</span>
    <span class="c1"># Query database</span>
    <span class="c1"># Perform logic</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s2">&quot;Hello, World!&quot;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="creating-function-based-views-step-by-step">Creating Function-Based Views Step-by-Step<a class="headerlink" href="#creating-function-based-views-step-by-step" title="Permanent link">&para;</a></h2>
<p>Let's build our views progressively, starting simple and adding features one by one. This approach helps you understand each component.</p>
<h3 id="step-1-your-first-simple-view">Step 1: Your First Simple View<a class="headerlink" href="#step-1-your-first-simple-view" title="Permanent link">&para;</a></h3>
<p>Let's start with the simplest possible view. Open <code>tasks/views.py</code> and create:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display all tasks&quot;&quot;&quot;</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_list.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">})</span>
</code></pre></div>

<p><strong>What's happening here?</strong>
1. <code>def task_list(request)</code> - Every view takes <code>request</code> as first parameter
2. <code>Task.objects.all()</code> - Get all tasks from database
3. <code>render()</code> - Combines template with data and returns HTML
4. <code>{'tasks': tasks}</code> - Context dictionary passed to template</p>
<h3 id="step-2-add-user-filtering">Step 2: Add User Filtering<a class="headerlink" href="#step-2-add-user-filtering" title="Permanent link">&para;</a></h3>
<p>Now let's show only the current user's tasks:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display tasks for the logged-in user&quot;&quot;&quot;</span>
    <span class="c1"># Filter tasks by current user</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_list.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">})</span>
</code></pre></div>

<p><strong>New concept:</strong>
- <code>request.user</code> - The currently logged-in user
- <code>filter(created_by=request.user)</code> - Only get tasks created by this user</p>
<h3 id="step-3-add-login-protection">Step 3: Add Login Protection<a class="headerlink" href="#step-3-add-login-protection" title="Permanent link">&para;</a></h3>
<p>Protect the view so only logged-in users can access it:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display tasks for the logged-in user&quot;&quot;&quot;</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_list.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">})</span>
</code></pre></div>

<p><strong>New concept:</strong>
- <code>@login_required</code> - Decorator that checks if user is logged in
- If not logged in, redirects to <code>login_url</code>
- Must be placed right above the function</p>
<h3 id="step-4-add-search-functionality">Step 4: Add Search Functionality<a class="headerlink" href="#step-4-add-search-functionality" title="Permanent link">&para;</a></h3>
<p>Let's add the ability to search tasks with a structured approach:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.db.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Q</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display tasks with search functionality&quot;&quot;&quot;</span>
    <span class="c1"># Start with user&#39;s tasks</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="c1"># Get search parameters from URL (e.g., ?search=title&amp;search_by=django)</span>
    <span class="n">search_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search&#39;</span><span class="p">)</span>  <span class="c1"># Which column to search</span>
    <span class="n">search_value</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search_by&#39;</span><span class="p">)</span>  <span class="c1"># What to search for</span>

    <span class="c1"># If both search parameters exist, apply search</span>
    <span class="k">if</span> <span class="n">search_column</span> <span class="ow">and</span> <span class="n">search_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span><span class="p">:</span>
            <span class="c1"># Search in both title and description</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                <span class="n">Q</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span> <span class="o">|</span> 
                <span class="n">Q</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">,</span>
        <span class="s1">&#39;search_column&#39;</span><span class="p">:</span> <span class="n">search_column</span><span class="p">,</span>
        <span class="s1">&#39;search_value&#39;</span><span class="p">:</span> <span class="n">search_value</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_list.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</code></pre></div>

<p><strong>New concepts:</strong>
- <code>request.GET.get('search')</code> - Get column name to search in
- <code>request.GET.get('search_by')</code> - Get value to search for
- <code>Q()</code> - Allows complex queries with OR/AND logic
- <code>title__icontains</code> - Case-insensitive search in title
- <code>|</code> - OR operator (search in title OR description)</p>
<p><strong>URL Examples:</strong>
- Search in title: <code>?search=title&amp;search_by=django</code>
- Search in description: <code>?search=description&amp;search_by=meeting</code>
- Search in all: <code>?search=all&amp;search_by=important</code></p>
<h3 id="step-5-add-filtering-and-sorting">Step 5: Add Filtering and Sorting<a class="headerlink" href="#step-5-add-filtering-and-sorting" title="Permanent link">&para;</a></h3>
<p>Now add filtering and sorting with a structured approach:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.db.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Q</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display tasks with search, filter, and sort&quot;&quot;&quot;</span>
    <span class="c1"># Start with user&#39;s tasks</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="c1"># Get search parameters (e.g., ?search=title&amp;search_by=django)</span>
    <span class="n">search_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search&#39;</span><span class="p">)</span>
    <span class="n">search_value</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search_by&#39;</span><span class="p">)</span>

    <span class="c1"># Get filter parameters (e.g., ?filter=status&amp;filter_by=pending)</span>
    <span class="n">filter_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span><span class="p">)</span>
    <span class="n">filter_value</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_by&#39;</span><span class="p">)</span>

    <span class="c1"># Get sort parameters (e.g., ?sort=created_at&amp;sort_order=desc)</span>
    <span class="n">sort_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sort&#39;</span><span class="p">)</span>
    <span class="n">sort_order</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sort_order&#39;</span><span class="p">,</span> <span class="s1">&#39;asc&#39;</span><span class="p">)</span>  <span class="c1"># Default to ascending</span>

    <span class="c1"># Apply search if provided</span>
    <span class="k">if</span> <span class="n">search_column</span> <span class="ow">and</span> <span class="n">search_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
                <span class="n">Q</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span> <span class="o">|</span> 
                <span class="n">Q</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="c1"># Apply filter if provided</span>
    <span class="k">if</span> <span class="n">filter_column</span> <span class="ow">and</span> <span class="n">filter_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filter_column</span> <span class="o">==</span> <span class="s1">&#39;status&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">filter_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">filter_column</span> <span class="o">==</span> <span class="s1">&#39;priority&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="n">filter_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">filter_column</span> <span class="o">==</span> <span class="s1">&#39;is_completed&#39;</span><span class="p">:</span>
            <span class="c1"># Convert string to boolean</span>
            <span class="n">is_completed</span> <span class="o">=</span> <span class="n">filter_value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_completed</span><span class="o">=</span><span class="n">is_completed</span><span class="p">)</span>

    <span class="c1"># Apply sorting if provided</span>
    <span class="k">if</span> <span class="n">sort_column</span><span class="p">:</span>
        <span class="c1"># Add &#39;-&#39; prefix for descending order</span>
        <span class="k">if</span> <span class="n">sort_order</span> <span class="o">==</span> <span class="s1">&#39;desc&#39;</span><span class="p">:</span>
            <span class="n">sort_column</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;-</span><span class="si">{</span><span class="n">sort_column</span><span class="si">}</span><span class="s1">&#39;</span>

        <span class="c1"># Validate sort column to prevent errors</span>
        <span class="n">allowed_sort_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;updated_at&#39;</span><span class="p">,</span> <span class="s1">&#39;due_date&#39;</span><span class="p">,</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">sort_column</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">allowed_sort_columns</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">sort_column</span><span class="p">)</span>

    <span class="c1"># Prepare context for template</span>
    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">,</span>
        <span class="s1">&#39;search_column&#39;</span><span class="p">:</span> <span class="n">search_column</span><span class="p">,</span>
        <span class="s1">&#39;search_value&#39;</span><span class="p">:</span> <span class="n">search_value</span><span class="p">,</span>
        <span class="s1">&#39;filter_column&#39;</span><span class="p">:</span> <span class="n">filter_column</span><span class="p">,</span>
        <span class="s1">&#39;filter_value&#39;</span><span class="p">:</span> <span class="n">filter_value</span><span class="p">,</span>
        <span class="s1">&#39;sort_column&#39;</span><span class="p">:</span> <span class="n">sort_column</span><span class="p">,</span>
        <span class="s1">&#39;sort_order&#39;</span><span class="p">:</span> <span class="n">sort_order</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_list.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</code></pre></div>

<p><strong>What's happening:</strong></p>
<p><strong>1. Search Pattern:</strong>
- <code>?search=title&amp;search_by=django</code> - Search in title column for "django"
- <code>?search=all&amp;search_by=meeting</code> - Search in all columns for "meeting"</p>
<p><strong>2. Filter Pattern:</strong>
- <code>?filter=status&amp;filter_by=pending</code> - Filter by status = pending
- <code>?filter=priority&amp;filter_by=high</code> - Filter by priority = high
- <code>?filter=is_completed&amp;filter_by=true</code> - Filter completed tasks</p>
<p><strong>3. Sort Pattern:</strong>
- <code>?sort=created_at&amp;sort_order=desc</code> - Sort by created_at descending
- <code>?sort=title&amp;sort_order=asc</code> - Sort by title ascending
- <code>?sort=due_date&amp;sort_order=desc</code> - Sort by due_date descending</p>
<p><strong>4. Combining Parameters:</strong>
- <code>?search=title&amp;search_by=django&amp;filter=status&amp;filter_by=pending&amp;sort=created_at&amp;sort_order=desc</code>
- All parameters work together (cumulative)</p>
<p><strong>Security Note:</strong>
- We validate <code>sort_column</code> against allowed columns to prevent SQL injection
- Always validate user input before using in queries</p>
<p><strong>✅ Complete task_list view with search, filter, and sort is ready!</strong></p>
<hr />
<h3 id="step-6-create-task-detail-view">Step 6: Create Task Detail View<a class="headerlink" href="#step-6-create-task-detail-view" title="Permanent link">&para;</a></h3>
<p>Now let's create a view to show a single task:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_detail</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Display a single task&quot;&quot;&quot;</span>
    <span class="c1"># Get task by ID (pk) and ensure user owns it</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_detail.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>
</code></pre></div>

<p><strong>New concepts:</strong>
- <code>pk</code> - Primary key (ID) of the task, comes from URL
- <code>get_object_or_404()</code> - Gets object or shows 404 error if not found
- Security: <code>created_by=request.user</code> ensures user can only view their own tasks</p>
<p><strong>✅ Task detail view is ready!</strong></p>
<hr />
<h3 id="step-7-create-task-creation-view-understanding-get-vs-post">Step 7: Create Task Creation View (Understanding GET vs POST)<a class="headerlink" href="#step-7-create-task-creation-view-understanding-get-vs-post" title="Permanent link">&para;</a></h3>
<p>This view handles both displaying a form (GET) and processing it (POST):</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">messages</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.forms</span><span class="w"> </span><span class="kn">import</span> <span class="n">TaskForm</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Create a new task&quot;&quot;&quot;</span>

    <span class="c1"># Check if form was submitted (POST request)</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="c1"># Create form with submitted data</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>

        <span class="c1"># Validate form</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="c1"># Save form but don&#39;t commit to database yet</span>
            <span class="n">task</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

            <span class="c1"># Set the creator</span>
            <span class="n">task</span><span class="o">.</span><span class="n">created_by</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span>

            <span class="c1"># Now save to database</span>
            <span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

            <span class="c1"># Show success message</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task created successfully!&#39;</span><span class="p">)</span>

            <span class="c1"># Redirect to task list</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># GET request - just show empty form</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">()</span>

    <span class="c1"># Render template with form</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_form.html&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;Create&#39;</span>
    <span class="p">})</span>
</code></pre></div>

<p><strong>Understanding the flow:</strong></p>
<p><strong>When user visits the page (GET):</strong>
1. <code>request.method</code> is 'GET'
2. Create empty form: <code>form = TaskForm()</code>
3. Show form to user</p>
<p><strong>When user submits form (POST):</strong>
1. <code>request.method</code> is 'POST'
2. Create form with data: <code>TaskForm(request.POST)</code>
3. Validate: <code>form.is_valid()</code>
4. Save: <code>form.save()</code>
5. Redirect to prevent duplicate submission</p>
<p><strong>Why <code>commit=False</code>?</strong>
- We need to set <code>created_by</code> before saving
- <code>commit=False</code> creates the object but doesn't save to database yet
- We set <code>created_by</code>, then call <code>save()</code></p>
<p><strong>✅ Task creation view is ready!</strong></p>
<hr />
<h3 id="step-8-create-task-update-view-using-patch-method">Step 8: Create Task Update View (Using PATCH Method)<a class="headerlink" href="#step-8-create-task-update-view-using-patch-method" title="Permanent link">&para;</a></h3>
<p>For updates, we'll use the <strong>PATCH</strong> HTTP method, which is the standard for partial updates:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.views.decorators.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">require_http_methods</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">messages</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">JsonResponse</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.forms</span><span class="w"> </span><span class="kn">import</span> <span class="n">TaskForm</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">json</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="nd">@require_http_methods</span><span class="p">([</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;PATCH&quot;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_update</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update an existing task using PATCH method&quot;&quot;&quot;</span>

    <span class="c1"># Get the task to update (ensure user owns it)</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="c1"># Handle PATCH request for updates</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;PATCH&#39;</span><span class="p">:</span>
        <span class="c1"># Parse JSON data from PATCH request</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
        <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Invalid JSON&#39;</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>

        <span class="c1"># Create form with PATCH data</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="c1"># Save updates</span>
            <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

            <span class="c1"># Return JSON response for API calls</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Accept&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;application/json&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span>
                    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;Task updated successfully!&#39;</span><span class="p">,</span>
                    <span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="p">{</span>
                        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                        <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                        <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
                        <span class="s1">&#39;priority&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">priority</span><span class="p">,</span>
                    <span class="p">}</span>
                <span class="p">})</span>

            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task updated successfully!&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="n">form</span><span class="o">.</span><span class="n">errors</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>

    <span class="c1"># GET request - show form pre-filled with task data</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_form.html&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;Update&#39;</span><span class="p">,</span>
        <span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span>
    <span class="p">})</span>
</code></pre></div>

<p><strong>Understanding PATCH Method:</strong></p>
<p><strong>Why PATCH instead of POST?</strong>
- <strong>POST</strong> = Create new resource
- <strong>PATCH</strong> = Partially update existing resource
- <strong>PUT</strong> = Replace entire resource
- PATCH is RESTful and semantically correct for updates</p>
<p><strong>Key concepts:</strong>
1. <code>@require_http_methods(["GET", "PATCH"])</code> - Only allow GET and PATCH
2. <code>request.method == 'PATCH'</code> - Check for PATCH request
3. <code>json.loads(request.body)</code> - Parse JSON data from request body
4. Return JSON response for API compatibility</p>
<p><strong>Alternative: Support Both POST and PATCH</strong></p>
<p>For backward compatibility, you can support both:</p>
<div class="codehilite"><pre><span></span><code><span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_update</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Update task - supports both POST (forms) and PATCH (API)&quot;&quot;&quot;</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;POST&#39;</span><span class="p">,</span> <span class="s1">&#39;PATCH&#39;</span><span class="p">]:</span>
        <span class="c1"># Handle PATCH with JSON</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;PATCH&#39;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">data</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">loads</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">body</span><span class="p">)</span>
            <span class="k">except</span> <span class="n">json</span><span class="o">.</span><span class="n">JSONDecodeError</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span><span class="s1">&#39;error&#39;</span><span class="p">:</span> <span class="s1">&#39;Invalid JSON&#39;</span><span class="p">},</span> <span class="n">status</span><span class="o">=</span><span class="mi">400</span><span class="p">)</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Handle POST with form data</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

            <span class="c1"># JSON response for PATCH</span>
            <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;PATCH&#39;</span><span class="p">:</span>
                <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span>
                    <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                    <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;Task updated successfully!&#39;</span>
                <span class="p">})</span>

            <span class="c1"># Redirect for POST</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task updated successfully!&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="c1"># GET - show form</span>
    <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_form.html&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">,</span>
        <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;Update&#39;</span><span class="p">,</span>
        <span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span>
    <span class="p">})</span>
</code></pre></div>

<p><strong>✅ Task update view with PATCH method is ready!</strong></p>
<hr />
<h3 id="step-9-create-task-delete-view-using-delete-method-soft-delete">Step 9: Create Task Delete View (Using DELETE Method &amp; Soft Delete)<a class="headerlink" href="#step-9-create-task-delete-view-using-delete-method-soft-delete" title="Permanent link">&para;</a></h3>
<p><strong>Understanding Soft Delete:</strong>
- <strong>Hard Delete</strong>: Permanently removes data from database
- <strong>Soft Delete</strong>: Marks data as deleted but keeps it in database
- Benefits: Can restore deleted items, maintain data history, audit trail</p>
<h4 id="option-1-soft-delete-recommended">Option 1: Soft Delete (Recommended)<a class="headerlink" href="#option-1-soft-delete-recommended" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.views.decorators.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">require_http_methods</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">messages</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">JsonResponse</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="nd">@require_http_methods</span><span class="p">([</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;DELETE&quot;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_delete</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Soft delete a task using DELETE method&quot;&quot;&quot;</span>

    <span class="c1"># Get the task (ensure user owns it and not already deleted)</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">is_deleted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Handle DELETE request</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">:</span>
        <span class="c1"># Soft delete the task</span>
        <span class="n">task</span><span class="o">.</span><span class="n">soft_delete</span><span class="p">()</span>

        <span class="c1"># Return JSON response for API calls</span>
        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Accept&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;application/json&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span>
                <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;Task deleted successfully!&#39;</span><span class="p">,</span>
                <span class="s1">&#39;deleted_at&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">deleted_at</span><span class="o">.</span><span class="n">isoformat</span><span class="p">()</span>
            <span class="p">})</span>

        <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task deleted successfully!&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="c1"># GET request - show confirmation page</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_confirm_delete.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>
</code></pre></div>

<p><strong>Key concepts:</strong>
1. <code>@require_http_methods(["GET", "DELETE"])</code> - Only allow GET and DELETE
2. <code>task.soft_delete()</code> - Marks task as deleted (sets <code>is_deleted=True</code>)
3. Task remains in database for recovery
4. <code>is_deleted=False</code> in query ensures we don't try to delete already deleted tasks</p>
<h4 id="option-2-hard-delete-with-delete-method">Option 2: Hard Delete with DELETE Method<a class="headerlink" href="#option-2-hard-delete-with-delete-method" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="nd">@require_http_methods</span><span class="p">([</span><span class="s2">&quot;GET&quot;</span><span class="p">,</span> <span class="s2">&quot;DELETE&quot;</span><span class="p">])</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_hard_delete</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Permanently delete a task using DELETE method&quot;&quot;&quot;</span>

    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">:</span>
        <span class="n">task_title</span> <span class="o">=</span> <span class="n">task</span><span class="o">.</span><span class="n">title</span>  <span class="c1"># Save for message</span>
        <span class="n">task</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>  <span class="c1"># Permanently remove from database</span>

        <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">headers</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;Accept&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;application/json&#39;</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span>
                <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
                <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;Task &quot;</span><span class="si">{</span><span class="n">task_title</span><span class="si">}</span><span class="s1">&quot; permanently deleted!&#39;</span>
            <span class="p">})</span>

        <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Task &quot;</span><span class="si">{</span><span class="n">task_title</span><span class="si">}</span><span class="s1">&quot; permanently deleted!&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_confirm_delete.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>
</code></pre></div>

<h4 id="restore-deleted-task-view">Restore Deleted Task View<a class="headerlink" href="#restore-deleted-task-view" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_restore</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Restore a soft-deleted task&quot;&quot;&quot;</span>

    <span class="c1"># Get soft-deleted task</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">is_deleted</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">task</span><span class="o">.</span><span class="n">restore</span><span class="p">()</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Task &quot;</span><span class="si">{</span><span class="n">task</span><span class="o">.</span><span class="n">title</span><span class="si">}</span><span class="s1">&quot; restored successfully!&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_restore_confirm.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>
</code></pre></div>

<h4 id="view-deleted-tasks">View Deleted Tasks<a class="headerlink" href="#view-deleted-tasks" title="Permanent link">&para;</a></h4>
<div class="codehilite"><pre><span></span><code><span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_trash</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;View all soft-deleted tasks (trash/recycle bin)&quot;&quot;&quot;</span>

    <span class="n">deleted_tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
        <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span>
        <span class="n">is_deleted</span><span class="o">=</span><span class="kc">True</span>
    <span class="p">)</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-deleted_at&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_trash.html&#39;</span><span class="p">,</span> <span class="p">{</span>
        <span class="s1">&#39;deleted_tasks&#39;</span><span class="p">:</span> <span class="n">deleted_tasks</span>
    <span class="p">})</span>
</code></pre></div>

<p><strong>The flow:</strong>
1. User clicks delete (GET request) → Show confirmation
2. User confirms (DELETE request) → Soft delete task
3. Task moved to trash (can be restored)
4. User can view trash and restore tasks</p>
<p><strong>Update task_list to exclude deleted tasks:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># Exclude soft-deleted tasks</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">is_deleted</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># ... rest of the code</span>
</code></pre></div>

<p><strong>✅ Task delete view with DELETE method and soft delete is ready!</strong></p>
<hr />
<h3 id="step-10-create-toggle-complete-view">Step 10: Create Toggle Complete View<a class="headerlink" href="#step-10-create-toggle-complete-view" title="Permanent link">&para;</a></h3>
<p>A simple view to mark tasks as complete/incomplete:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">messages</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_toggle_complete</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Toggle task completion status&quot;&quot;&quot;</span>

    <span class="c1"># Get the task</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="c1"># Check current status and toggle</span>
    <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">is_completed</span><span class="p">:</span>
        <span class="n">task</span><span class="o">.</span><span class="n">mark_incomplete</span><span class="p">()</span>  <span class="c1"># Using model method</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task marked as incomplete&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">task</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>  <span class="c1"># Using model method</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task marked as complete!&#39;</span><span class="p">)</span>

    <span class="c1"># Redirect back to task list</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Note:</strong>
- We use model methods <code>mark_complete()</code> and <code>mark_incomplete()</code>
- This keeps business logic in the model (good practice)
- No template needed - just redirect after action</p>
<p><strong>✅ Task toggle view is ready!</strong></p>
<hr />
<h3 id="complete-viewspy-file">Complete views.py File<a class="headerlink" href="#complete-viewspy-file" title="Permanent link">&para;</a></h3>
<p>Now that you understand each view, here's the complete file:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.shortcuts</span><span class="w"> </span><span class="kn">import</span> <span class="n">render</span><span class="p">,</span> <span class="n">redirect</span><span class="p">,</span> <span class="n">get_object_or_404</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.decorators</span><span class="w"> </span><span class="kn">import</span> <span class="n">login_required</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">messages</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.db.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Q</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.forms</span><span class="w"> </span><span class="kn">import</span> <span class="n">TaskForm</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="c1"># Get parameters</span>
    <span class="n">search_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search&#39;</span><span class="p">)</span>
    <span class="n">search_value</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search_by&#39;</span><span class="p">)</span>
    <span class="n">filter_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span><span class="p">)</span>
    <span class="n">filter_value</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_by&#39;</span><span class="p">)</span>
    <span class="n">sort_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sort&#39;</span><span class="p">)</span>
    <span class="n">sort_order</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sort_order&#39;</span><span class="p">,</span> <span class="s1">&#39;asc&#39;</span><span class="p">)</span>

    <span class="c1"># Apply search</span>
    <span class="k">if</span> <span class="n">search_column</span> <span class="ow">and</span> <span class="n">search_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span> <span class="o">|</span> <span class="n">Q</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">))</span>

    <span class="c1"># Apply filter</span>
    <span class="k">if</span> <span class="n">filter_column</span> <span class="ow">and</span> <span class="n">filter_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">filter_column</span> <span class="o">==</span> <span class="s1">&#39;status&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="n">filter_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">filter_column</span> <span class="o">==</span> <span class="s1">&#39;priority&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="n">filter_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">filter_column</span> <span class="o">==</span> <span class="s1">&#39;is_completed&#39;</span><span class="p">:</span>
            <span class="n">is_completed</span> <span class="o">=</span> <span class="n">filter_value</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">==</span> <span class="s1">&#39;true&#39;</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_completed</span><span class="o">=</span><span class="n">is_completed</span><span class="p">)</span>

    <span class="c1"># Apply sorting</span>
    <span class="k">if</span> <span class="n">sort_column</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">sort_order</span> <span class="o">==</span> <span class="s1">&#39;desc&#39;</span><span class="p">:</span>
            <span class="n">sort_column</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;-</span><span class="si">{</span><span class="n">sort_column</span><span class="si">}</span><span class="s1">&#39;</span>
        <span class="n">allowed_sort_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;updated_at&#39;</span><span class="p">,</span> <span class="s1">&#39;due_date&#39;</span><span class="p">,</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">]</span>
        <span class="k">if</span> <span class="n">sort_column</span><span class="o">.</span><span class="n">lstrip</span><span class="p">(</span><span class="s1">&#39;-&#39;</span><span class="p">)</span> <span class="ow">in</span> <span class="n">allowed_sort_columns</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">sort_column</span><span class="p">)</span>

    <span class="n">context</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">,</span>
        <span class="s1">&#39;search_column&#39;</span><span class="p">:</span> <span class="n">search_column</span><span class="p">,</span>
        <span class="s1">&#39;search_value&#39;</span><span class="p">:</span> <span class="n">search_value</span><span class="p">,</span>
        <span class="s1">&#39;filter_column&#39;</span><span class="p">:</span> <span class="n">filter_column</span><span class="p">,</span>
        <span class="s1">&#39;filter_value&#39;</span><span class="p">:</span> <span class="n">filter_value</span><span class="p">,</span>
        <span class="s1">&#39;sort_column&#39;</span><span class="p">:</span> <span class="n">sort_column</span><span class="p">,</span>
        <span class="s1">&#39;sort_order&#39;</span><span class="p">:</span> <span class="n">sort_order</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_list.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_detail</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_detail.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">task</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">task</span><span class="o">.</span><span class="n">created_by</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span>
            <span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task created successfully!&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_form.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;Create&#39;</span><span class="p">})</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_update</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">,</span> <span class="n">instance</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task updated successfully!&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">instance</span><span class="o">=</span><span class="n">task</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_form.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">,</span> <span class="s1">&#39;action&#39;</span><span class="p">:</span> <span class="s1">&#39;Update&#39;</span><span class="p">,</span> <span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_delete</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">task</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task deleted successfully!&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/task_confirm_delete.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>

<span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_toggle_complete</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">task</span><span class="o">.</span><span class="n">is_completed</span><span class="p">:</span>
        <span class="n">task</span><span class="o">.</span><span class="n">mark_incomplete</span><span class="p">()</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task marked as incomplete&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">task</span><span class="o">.</span><span class="n">mark_complete</span><span class="p">()</span>
        <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task marked as complete!&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="understanding-view-components">Understanding View Components<a class="headerlink" href="#understanding-view-components" title="Permanent link">&para;</a></h3>
<p><strong>1. Decorators</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nd">@login_required</span><span class="p">(</span><span class="n">login_url</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>Ensures user is authenticated</li>
<li>Redirects to login page if not</li>
<li>Must be imported: <code>from django.contrib.auth.decorators import login_required</code></li>
</ul>
<p><strong>2. Request Object</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># request.method - HTTP method (GET, POST, etc.)</span>
    <span class="c1"># request.GET - URL parameters</span>
    <span class="c1"># request.POST - Form data</span>
    <span class="c1"># request.user - Current user</span>
    <span class="c1"># request.FILES - Uploaded files</span>
</code></pre></div>

<p><strong>3. get_object_or_404</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>Gets object or returns 404 error</li>
<li>Better than <code>Task.objects.get()</code> which raises exception</li>
<li>Automatically handles DoesNotExist</li>
</ul>
<p><strong>4. Messages Framework</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">messages</span>

<span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task created successfully!&#39;</span><span class="p">)</span>
<span class="n">messages</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Something went wrong&#39;</span><span class="p">)</span>
<span class="n">messages</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Be careful!&#39;</span><span class="p">)</span>
<span class="n">messages</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;FYI: Something happened&#39;</span><span class="p">)</span>
</code></pre></div>

<p><strong>5. Redirect</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>  <span class="c1"># By URL name</span>
<span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;/tasks/&#39;</span><span class="p">)</span>     <span class="c1"># By path</span>
<span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">task</span><span class="p">)</span>          <span class="c1"># By object (needs get_absolute_url)</span>
</code></pre></div>

<p><strong>6. Render</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;template.html&#39;</span><span class="p">,</span> <span class="n">context</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>Renders template with context data</li>
<li>Returns HttpResponse</li>
</ul>
<hr />
<h2 id="url-configuration">URL Configuration<a class="headerlink" href="#url-configuration" title="Permanent link">&para;</a></h2>
<p>URLs map web addresses to view functions.</p>
<h3 id="step-1-create-app-urls">Step 1: Create App URLs<a class="headerlink" href="#step-1-create-app-urls" title="Permanent link">&para;</a></h3>
<p>Create <code>tasks/urls.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">path</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.</span><span class="w"> </span><span class="kn">import</span> <span class="n">views</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># Task URLs</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_list&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;task/create/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_create</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_create&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;task/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_detail</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_detail&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;task/&lt;int:pk&gt;/update/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_update</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_update&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;task/&lt;int:pk&gt;/delete/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_delete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_delete&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;task/&lt;int:pk&gt;/toggle/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_toggle_complete</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_toggle_complete&#39;</span><span class="p">),</span>

    <span class="c1"># Soft delete management</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;task/&lt;int:pk&gt;/restore/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_restore</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_restore&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;trash/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_trash</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_trash&#39;</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div>

<h3 id="step-2-include-app-urls-in-project">Step 2: Include App URLs in Project<a class="headerlink" href="#step-2-include-app-urls-in-project" title="Permanent link">&para;</a></h3>
<p>Open <code>taskmanager/urls.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">path</span><span class="p">,</span> <span class="n">include</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;tasks.urls&#39;</span><span class="p">)),</span>
<span class="p">]</span>
</code></pre></div>

<h3 id="url-patterns-explained">URL Patterns Explained<a class="headerlink" href="#url-patterns-explained" title="Permanent link">&para;</a></h3>
<p><strong>Basic Pattern</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">path</span><span class="p">(</span><span class="s1">&#39;tasks/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>First argument: URL pattern</li>
<li>Second argument: View function</li>
<li>Third argument: URL name (for reverse lookup)</li>
</ul>
<p><strong>URL Parameters</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">path</span><span class="p">(</span><span class="s1">&#39;task/&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_detail</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;task_detail&#39;</span><span class="p">)</span>
</code></pre></div>

<ul>
<li><code>&lt;int:pk&gt;</code>: Captures integer as <code>pk</code> parameter</li>
<li>Passed to view: <code>def task_detail(request, pk)</code></li>
</ul>
<p><strong>Parameter Types</strong></p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="nb">int</span><span class="p">:</span><span class="nb">id</span><span class="o">&gt;</span>      <span class="c1"># Integer</span>
<span class="o">&lt;</span><span class="nb">str</span><span class="p">:</span><span class="n">slug</span><span class="o">&gt;</span>    <span class="c1"># String (no slashes)</span>
<span class="o">&lt;</span><span class="n">slug</span><span class="p">:</span><span class="n">slug</span><span class="o">&gt;</span>   <span class="c1"># Slug (letters, numbers, hyphens, underscores)</span>
<span class="o">&lt;</span><span class="n">uuid</span><span class="p">:</span><span class="nb">id</span><span class="o">&gt;</span>     <span class="c1"># UUID</span>
<span class="o">&lt;</span><span class="n">path</span><span class="p">:</span><span class="n">path</span><span class="o">&gt;</span>   <span class="c1"># Any string (including slashes)</span>
</code></pre></div>

<p><strong>Multiple Parameters</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">path</span><span class="p">(</span><span class="s1">&#39;user/&lt;int:user_id&gt;/task/&lt;int:task_id&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">user_task_detail</span><span class="p">)</span>
</code></pre></div>

<h3 id="url-naming-and-reverse-lookup">URL Naming and Reverse Lookup<a class="headerlink" href="#url-naming-and-reverse-lookup" title="Permanent link">&para;</a></h3>
<p><strong>Why name URLs?</strong>
- Avoid hardcoding URLs
- Easy to change URL structure
- Use in templates and views</p>
<p><strong>In Views:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.urls</span><span class="w"> </span><span class="kn">import</span> <span class="n">reverse</span>

<span class="n">url</span> <span class="o">=</span> <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;task_detail&#39;</span><span class="p">,</span> <span class="n">kwargs</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;pk&#39;</span><span class="p">:</span> <span class="mi">1</span><span class="p">})</span>
<span class="c1"># Returns: &#39;/task/1/&#39;</span>

<span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
</code></pre></div>

<p><strong>In Templates:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;task_list&#39; %}&quot;</span><span class="p">&gt;</span>All Tasks<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;task_detail&#39; task.pk %}&quot;</span><span class="p">&gt;</span>View Task<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{% url &#39;task_update&#39; pk=task.pk %}&quot;</span><span class="p">&gt;</span>Edit<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
</code></pre></div>

<hr />
<h2 id="http-methods-in-views">HTTP Methods in Views<a class="headerlink" href="#http-methods-in-views" title="Permanent link">&para;</a></h2>
<h3 id="get-vs-post">GET vs POST<a class="headerlink" href="#get-vs-post" title="Permanent link">&para;</a></h3>
<p><strong>GET Request</strong>
- Retrieve data
- Parameters in URL
- Idempotent (safe to repeat)
- Used for: viewing, searching, filtering</p>
<p><strong>POST Request</strong>
- Submit data
- Parameters in request body
- Not idempotent
- Used for: creating, updating, deleting</p>
<h3 id="handling-different-methods">Handling Different Methods<a class="headerlink" href="#handling-different-methods" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="c1"># Handle form submission</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">MyForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;success&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Display form</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">MyForm</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;form.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span>
</code></pre></div>

<h3 id="method-based-logic">Method-Based Logic<a class="headerlink" href="#method-based-logic" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">task_operations</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;GET&#39;</span><span class="p">:</span>
        <span class="c1"># Display task</span>
        <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;task_detail.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="n">task</span><span class="p">})</span>

    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="c1"># Update task</span>
        <span class="n">task</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
        <span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="k">elif</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;DELETE&#39;</span><span class="p">:</span>
        <span class="c1"># Delete task</span>
        <span class="n">task</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
        <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="mi">204</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="working-with-request-data">Working with Request Data<a class="headerlink" href="#working-with-request-data" title="Permanent link">&para;</a></h2>
<h3 id="get-parameters">GET Parameters<a class="headerlink" href="#get-parameters" title="Permanent link">&para;</a></h3>
<p><strong>Example 1: Search with structured parameters</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">search_tasks</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># URL: /search/?search=title&amp;search_by=django&amp;filter=status&amp;filter_by=pending</span>

    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># Get search parameters</span>
    <span class="n">search_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search&#39;</span><span class="p">)</span>
    <span class="n">search_value</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search_by&#39;</span><span class="p">)</span>

    <span class="c1"># Get filter parameters</span>
    <span class="n">filter_column</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span><span class="p">)</span>
    <span class="n">filter_value</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_by&#39;</span><span class="p">)</span>

    <span class="c1"># Apply search</span>
    <span class="k">if</span> <span class="n">search_column</span> <span class="ow">and</span> <span class="n">search_value</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;title&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">search_column</span> <span class="o">==</span> <span class="s1">&#39;description&#39;</span><span class="p">:</span>
            <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_value</span><span class="p">)</span>

    <span class="c1"># Apply filter</span>
    <span class="k">if</span> <span class="n">filter_column</span> <span class="ow">and</span> <span class="n">filter_value</span><span class="p">:</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">filter_column</span><span class="p">:</span> <span class="n">filter_value</span><span class="p">})</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;search.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">})</span>
</code></pre></div>

<p><strong>Example 2: Multiple filters</strong></p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">advanced_search</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="c1"># URL: /search/?search=all&amp;search_by=django&amp;filter=status&amp;filter_by=pending&amp;sort=created_at&amp;sort_order=desc</span>

    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

    <span class="c1"># Search</span>
    <span class="n">search_col</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search&#39;</span><span class="p">)</span>
    <span class="n">search_val</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;search_by&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">search_col</span> <span class="o">==</span> <span class="s1">&#39;all&#39;</span> <span class="ow">and</span> <span class="n">search_val</span><span class="p">:</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
            <span class="n">Q</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="n">search_val</span><span class="p">)</span> <span class="o">|</span> 
            <span class="n">Q</span><span class="p">(</span><span class="n">description__icontains</span><span class="o">=</span><span class="n">search_val</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="c1"># Filter</span>
    <span class="n">filter_col</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter&#39;</span><span class="p">)</span>
    <span class="n">filter_val</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;filter_by&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">filter_col</span> <span class="ow">and</span> <span class="n">filter_val</span><span class="p">:</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">**</span><span class="p">{</span><span class="n">filter_col</span><span class="p">:</span> <span class="n">filter_val</span><span class="p">})</span>

    <span class="c1"># Sort</span>
    <span class="n">sort_col</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sort&#39;</span><span class="p">)</span>
    <span class="n">sort_order</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;sort_order&#39;</span><span class="p">,</span> <span class="s1">&#39;asc&#39;</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">sort_col</span><span class="p">:</span>
        <span class="n">order_by</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;-</span><span class="si">{</span><span class="n">sort_col</span><span class="si">}</span><span class="s1">&#39;</span> <span class="k">if</span> <span class="n">sort_order</span> <span class="o">==</span> <span class="s1">&#39;desc&#39;</span> <span class="k">else</span> <span class="n">sort_col</span>
        <span class="n">tasks</span> <span class="o">=</span> <span class="n">tasks</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="n">order_by</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;search.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;tasks&#39;</span><span class="p">:</span> <span class="n">tasks</span><span class="p">})</span>
</code></pre></div>

<h3 id="post-data">POST Data<a class="headerlink" href="#post-data" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">create_task</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
        <span class="n">description</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">)</span>
        <span class="n">priority</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;medium&#39;</span><span class="p">)</span>

        <span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
            <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="n">description</span><span class="p">,</span>
            <span class="n">priority</span><span class="o">=</span><span class="n">priority</span><span class="p">,</span>
            <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span>
        <span class="p">)</span>

        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_detail&#39;</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">task</span><span class="o">.</span><span class="n">pk</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;create_task.html&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="file-uploads">File Uploads<a class="headerlink" href="#file-uploads" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">upload_avatar</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">uploaded_file</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">FILES</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">uploaded_file</span><span class="p">:</span>
            <span class="c1"># Save file</span>
            <span class="n">profile</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">profile</span>
            <span class="n">profile</span><span class="o">.</span><span class="n">avatar</span> <span class="o">=</span> <span class="n">uploaded_file</span>
            <span class="n">profile</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Avatar uploaded!&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;profile&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;upload.html&#39;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="authentication-views">Authentication Views<a class="headerlink" href="#authentication-views" title="Permanent link">&para;</a></h2>
<h3 id="user-registration">User Registration<a class="headerlink" href="#user-registration" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth</span><span class="w"> </span><span class="kn">import</span> <span class="n">login</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.forms</span><span class="w"> </span><span class="kn">import</span> <span class="n">UserCreationForm</span>

<span class="k">def</span><span class="w"> </span><span class="nf">register</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">UserCreationForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">user</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="n">username</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Account created for </span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s1">!&#39;</span><span class="p">)</span>
            <span class="n">login</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>  <span class="c1"># Auto-login after registration</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">UserCreationForm</span><span class="p">()</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/register.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;form&#39;</span><span class="p">:</span> <span class="n">form</span><span class="p">})</span>
</code></pre></div>

<h3 id="user-login">User Login<a class="headerlink" href="#user-login" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth</span><span class="w"> </span><span class="kn">import</span> <span class="n">authenticate</span><span class="p">,</span> <span class="n">login</span>

<span class="k">def</span><span class="w"> </span><span class="nf">user_login</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="o">.</span><span class="n">is_authenticated</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">username</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;username&#39;</span><span class="p">)</span>
        <span class="n">password</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;password&#39;</span><span class="p">)</span>
        <span class="n">user</span> <span class="o">=</span> <span class="n">authenticate</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="n">username</span><span class="p">,</span> <span class="n">password</span><span class="o">=</span><span class="n">password</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">login</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">user</span><span class="p">)</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="sa">f</span><span class="s1">&#39;Welcome back, </span><span class="si">{</span><span class="n">username</span><span class="si">}</span><span class="s1">!&#39;</span><span class="p">)</span>

            <span class="c1"># Redirect to &#39;next&#39; parameter or default</span>
            <span class="n">next_url</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;next&#39;</span><span class="p">,</span> <span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="n">next_url</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">messages</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Invalid username or password&#39;</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;tasks/login.html&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="user-logout">User Logout<a class="headerlink" href="#user-logout" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth</span><span class="w"> </span><span class="kn">import</span> <span class="n">logout</span>

<span class="nd">@login_required</span>
<span class="k">def</span><span class="w"> </span><span class="nf">user_logout</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">logout</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
    <span class="n">messages</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;You have been logged out&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;login&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="update-urls-for-authentication">Update URLs for Authentication<a class="headerlink" href="#update-urls-for-authentication" title="Permanent link">&para;</a></h3>
<p>Add to <code>tasks/urls.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="c1"># ... existing task URLs ...</span>

    <span class="c1"># Authentication URLs</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;register/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">register</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;register&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;login/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">user_login</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;login&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;logout/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">user_logout</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;logout&#39;</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div>

<hr />
<h2 id="advanced-view-patterns">Advanced View Patterns<a class="headerlink" href="#advanced-view-patterns" title="Permanent link">&para;</a></h2>
<h3 id="pagination">Pagination<a class="headerlink" href="#pagination" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.core.paginator</span><span class="w"> </span><span class="kn">import</span> <span class="n">Paginator</span>

<span class="k">def</span><span class="w"> </span><span class="nf">task_list</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="c1"># Create paginator (10 items per page)</span>
    <span class="n">paginator</span> <span class="o">=</span> <span class="n">Paginator</span><span class="p">(</span><span class="n">tasks</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>

    <span class="c1"># Get page number from URL</span>
    <span class="n">page_number</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">GET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;page&#39;</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>

    <span class="c1"># Get page object</span>
    <span class="n">page_obj</span> <span class="o">=</span> <span class="n">paginator</span><span class="o">.</span><span class="n">get_page</span><span class="p">(</span><span class="n">page_number</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;task_list.html&#39;</span><span class="p">,</span> <span class="p">{</span><span class="s1">&#39;page_obj&#39;</span><span class="p">:</span> <span class="n">page_obj</span><span class="p">})</span>
</code></pre></div>

<p><strong>In template:</strong></p>
<div class="codehilite"><pre><span></span><code>{% for task in page_obj %}
    <span class="cm">&lt;!-- Display task --&gt;</span>
{% endfor %}

<span class="cm">&lt;!-- Pagination controls --&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;pagination&quot;</span><span class="p">&gt;</span>
    {% if page_obj.has_previous %}
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page=1&quot;</span><span class="p">&gt;</span>First<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.previous_page_number }}&quot;</span><span class="p">&gt;</span>Previous<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    {% endif %}

    <span class="p">&lt;</span><span class="nt">span</span><span class="p">&gt;</span>Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}<span class="p">&lt;/</span><span class="nt">span</span><span class="p">&gt;</span>

    {% if page_obj.has_next %}
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.next_page_number }}&quot;</span><span class="p">&gt;</span>Next<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;?page={{ page_obj.paginator.num_pages }}&quot;</span><span class="p">&gt;</span>Last<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
    {% endif %}
<span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

<h3 id="ajax-views-json-response">AJAX Views (JSON Response)<a class="headerlink" href="#ajax-views-json-response" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.http</span><span class="w"> </span><span class="kn">import</span> <span class="n">JsonResponse</span>

<span class="k">def</span><span class="w"> </span><span class="nf">task_status_api</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">pk</span><span class="p">):</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">new_status</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;status&#39;</span><span class="p">)</span>
        <span class="n">task</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="n">new_status</span>
        <span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

        <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span>
            <span class="s1">&#39;success&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span>
            <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;Status updated&#39;</span><span class="p">,</span>
            <span class="s1">&#39;task&#39;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
                <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
                <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">})</span>

    <span class="k">return</span> <span class="n">JsonResponse</span><span class="p">({</span>
        <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">id</span><span class="p">,</span>
        <span class="s1">&#39;title&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">title</span><span class="p">,</span>
        <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">status</span><span class="p">,</span>
        <span class="s1">&#39;priority&#39;</span><span class="p">:</span> <span class="n">task</span><span class="o">.</span><span class="n">priority</span><span class="p">,</span>
    <span class="p">})</span>
</code></pre></div>

<h3 id="custom-404-and-500-views">Custom 404 and 500 Views<a class="headerlink" href="#custom-404-and-500-views" title="Permanent link">&para;</a></h3>
<p>Create <code>tasks/views.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">custom_404</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">exception</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;404.html&#39;</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

<span class="k">def</span><span class="w"> </span><span class="nf">custom_500</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">render</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;500.html&#39;</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">500</span><span class="p">)</span>
</code></pre></div>

<p>In <code>taskmanager/urls.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">handler404</span> <span class="o">=</span> <span class="s1">&#39;tasks.views.custom_404&#39;</span>
<span class="n">handler500</span> <span class="o">=</span> <span class="s1">&#39;tasks.views.custom_500&#39;</span>
</code></pre></div>

<hr />
<h2 id="view-best-practices">View Best Practices<a class="headerlink" href="#view-best-practices" title="Permanent link">&para;</a></h2>
<h3 id="1-keep-views-thin">1. Keep Views Thin<a class="headerlink" href="#1-keep-views-thin" title="Permanent link">&para;</a></h3>
<p>Move business logic to models or separate functions:</p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Bad</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">()</span>
        <span class="n">task</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">)</span>
        <span class="n">task</span><span class="o">.</span><span class="n">description</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;description&#39;</span><span class="p">)</span>
        <span class="c1"># ... lots of logic ...</span>
        <span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

<span class="c1"># Good</span>
<span class="k">def</span><span class="w"> </span><span class="nf">task_create</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">TaskForm</span><span class="p">(</span><span class="n">request</span><span class="o">.</span><span class="n">POST</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">is_valid</span><span class="p">():</span>
            <span class="n">task</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">save</span><span class="p">(</span><span class="n">commit</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="n">task</span><span class="o">.</span><span class="n">created_by</span> <span class="o">=</span> <span class="n">request</span><span class="o">.</span><span class="n">user</span>
            <span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
            <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;task_list&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="2-use-get_object_or_404">2. Use get_object_or_404<a class="headerlink" href="#2-use-get_object_or_404" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Bad</span>
<span class="k">try</span><span class="p">:</span>
    <span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
<span class="k">except</span> <span class="n">Task</span><span class="o">.</span><span class="n">DoesNotExist</span><span class="p">:</span>
    <span class="k">return</span> <span class="n">HttpResponse</span><span class="p">(</span><span class="s1">&#39;Not found&#39;</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="mi">404</span><span class="p">)</span>

<span class="c1"># Good</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">)</span>
</code></pre></div>

<h3 id="3-always-validate-user-permissions">3. Always Validate User Permissions<a class="headerlink" href="#3-always-validate-user-permissions" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Ensure user owns the task</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">get_object_or_404</span><span class="p">(</span><span class="n">Task</span><span class="p">,</span> <span class="n">pk</span><span class="o">=</span><span class="n">pk</span><span class="p">,</span> <span class="n">created_by</span><span class="o">=</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
</code></pre></div>

<h3 id="4-use-messages-for-feedback">4. Use Messages for Feedback<a class="headerlink" href="#4-use-messages-for-feedback" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="n">messages</span><span class="o">.</span><span class="n">success</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Task created successfully!&#39;</span><span class="p">)</span>
<span class="n">messages</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="s1">&#39;Failed to create task&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="5-redirect-after-post">5. Redirect After POST<a class="headerlink" href="#5-redirect-after-post" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Prevent duplicate submissions</span>
<span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
    <span class="c1"># Process form</span>
    <span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;success_page&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="6-handle-both-get-and-post">6. Handle Both GET and POST<a class="headerlink" href="#6-handle-both-get-and-post" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">my_view</span><span class="p">(</span><span class="n">request</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">request</span><span class="o">.</span><span class="n">method</span> <span class="o">==</span> <span class="s1">&#39;POST&#39;</span><span class="p">:</span>
        <span class="c1"># Handle form submission</span>
        <span class="k">pass</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># Display form</span>
        <span class="k">pass</span>
</code></pre></div>

<hr />
<h2 id="url-organization">URL Organization<a class="headerlink" href="#url-organization" title="Permanent link">&para;</a></h2>
<h3 id="namespacing-urls">Namespacing URLs<a class="headerlink" href="#namespacing-urls" title="Permanent link">&para;</a></h3>
<p><strong>In app urls.py:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">app_name</span> <span class="o">=</span> <span class="s1">&#39;tasks&#39;</span>

<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_list</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;list&#39;</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;&lt;int:pk&gt;/&#39;</span><span class="p">,</span> <span class="n">views</span><span class="o">.</span><span class="n">task_detail</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s1">&#39;detail&#39;</span><span class="p">),</span>
<span class="p">]</span>
</code></pre></div>

<p><strong>Usage:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># In views</span>
<span class="k">return</span> <span class="n">redirect</span><span class="p">(</span><span class="s1">&#39;tasks:list&#39;</span><span class="p">)</span>

<span class="c1"># In templates</span>
<span class="p">{</span><span class="o">%</span> <span class="n">url</span> <span class="s1">&#39;tasks:detail&#39;</span> <span class="n">task</span><span class="o">.</span><span class="n">pk</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>

<h3 id="url-includes-with-prefix">URL Includes with Prefix<a class="headerlink" href="#url-includes-with-prefix" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># taskmanager/urls.py</span>
<span class="n">urlpatterns</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;admin/&#39;</span><span class="p">,</span> <span class="n">admin</span><span class="o">.</span><span class="n">site</span><span class="o">.</span><span class="n">urls</span><span class="p">),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;tasks/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;tasks.urls&#39;</span><span class="p">)),</span>
    <span class="n">path</span><span class="p">(</span><span class="s1">&#39;api/&#39;</span><span class="p">,</span> <span class="n">include</span><span class="p">(</span><span class="s1">&#39;api.urls&#39;</span><span class="p">)),</span>
<span class="p">]</span>
</code></pre></div>

<hr />
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>You've learned:</p>
<p>✅ Creating function-based views
✅ Handling GET and POST requests
✅ URL configuration and routing
✅ URL parameters and naming
✅ Authentication decorators
✅ Request and response objects
✅ Messages framework
✅ Pagination
✅ JSON responses
✅ View best practices</p>
<h3 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h3>
<p>👉 <strong>Continue to:</strong> <a href="04_FBV_Templates_and_Forms.html"><code>04_FBV_Templates_and_Forms.md</code></a></p>
<p>In the next section, we'll:
- Create Django templates
- Use template inheritance
- Work with forms
- Display data dynamically
- Build the complete UI</p>
<hr />
<p><strong>Views are ready! Let's build the frontend! 🎨</strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        


<nav class="md-footer__nav md-grid pill-navigation" aria-label="Footer navigation">
  
  
  <a href="02_FBV_Models_and_Database.html"
     class="pill-btn pill-prev"
     aria-label="Previous page">
    <span class="pill-arrow">‹</span>
    <span class="pill-text">PREVIOUS</span>
  </a>
  

  
  <a href="04_FBV_Templates_and_Forms.html"
     class="pill-btn pill-next"
     aria-label="Next page">
    <span class="pill-text">NEXT</span>
    <span class="pill-arrow">›</span>
  </a>
  

</nav>




<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner footer-custom">

      <!-- Left -->
      <div class="footer-col footer-left">
        <strong>Django Training Guide</strong>
      </div>

      <!-- Center -->
      <div class="footer-col footer-center">
        <p>© 2026 Pragnakalp Techlabs</p>
      </div>

      <!-- Right -->
      <div class="footer-col footer-right">
        <p class="footer-heading">Contributors</p>
        <div class="contributors">
          <span class="contributor">Rahul</span>
          <span class="contributor">Nikunj</span>
          <span class="contributor">Neel</span>
          <span class="contributor">Dhvanil</span>
          <span class="contributor">Mansi</span>
          <span class="contributor">Darshit</span>
        </div>
      </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["navigation.sections", "navigation.expand", "navigation.instant", "toc.integrate", "content.code.copy", "navigation.footer"], "search": "assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>