
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://pragnakalpdev54.github.io/Django/02_FBV_Models_and_Database.html">
      
      
        <link rel="prev" href="01_Introduction_and_Setup.html">
      
      
        <link rel="next" href="03_FBV_Views_and_URLs.html">
      
      
        
      
      
      <link rel="icon" href="assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Models & Database - Django Training Guide</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.618322db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/footer.css">
    
      <link rel="stylesheet" href="assets/stylesheets/extra.css">
    
      <link rel="stylesheet" href="assets/stylesheets/sidebar.css">
    
    <script>__md_scope=new URL(".",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#part-2-function-based-views-models-database" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Django Training Guide" class="md-header__button md-logo" aria-label="Django Training Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Django Training Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Models & Database
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Django Training Guide" class="md-nav__button md-logo" aria-label="Django Training Guide" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Django Training Guide
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="Index.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Home
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="01_Introduction_and_Setup.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction & Setup
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Models & Database
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="02_FBV_Models_and_Database.html" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Models & Database
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#understanding-django-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Django Models
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Understanding Django Models">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#why-use-django-orm" class="md-nav__link">
    <span class="md-ellipsis">
      
        Why Use Django ORM?
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-the-task-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating the Task Model
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating the Task Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-define-the-model" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Define the Model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#understanding-model-fields" class="md-nav__link">
    <span class="md-ellipsis">
      
        Understanding Model Fields
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#meta-class-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Meta Class Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-methods" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Methods
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Migrations
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Migrations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#step-1-create-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 1: Create Migrations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-2-view-migration-sql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 2: View Migration SQL
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#step-3-apply-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        Step 3: Apply Migrations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-commands-summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migration Commands Summary
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#django-orm-querying-the-database" class="md-nav__link">
    <span class="md-ellipsis">
      
        Django ORM: Querying the Database
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Django ORM: Querying the Database">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-django-shell" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using Django Shell
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Creating Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#reading-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reading Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#updating-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Updating Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deleting-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deleting Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#complex-queries-with-q-objects" class="md-nav__link">
    <span class="md-ellipsis">
      
        Complex Queries with Q Objects
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aggregation-and-annotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aggregation and Annotation
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#related-object-queries" class="md-nav__link">
    <span class="md-ellipsis">
      
        Related Object Queries
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#register-model-in-admin" class="md-nav__link">
    <span class="md-ellipsis">
      
        Register Model in Admin
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Register Model in Admin">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#admin-customization-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        Admin Customization Options
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#access-admin-interface" class="md-nav__link">
    <span class="md-ellipsis">
      
        Access Admin Interface
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#model-relationships" class="md-nav__link">
    <span class="md-ellipsis">
      
        Model Relationships
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Model Relationships">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#one-to-many-foreignkey" class="md-nav__link">
    <span class="md-ellipsis">
      
        One-to-Many (ForeignKey)
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#many-to-many" class="md-nav__link">
    <span class="md-ellipsis">
      
        Many-to-Many
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#one-to-one" class="md-nav__link">
    <span class="md-ellipsis">
      
        One-to-One
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#database-setup" class="md-nav__link">
    <span class="md-ellipsis">
      
        Database Setup
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Database Setup">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#using-postgresql" class="md-nav__link">
    <span class="md-ellipsis">
      
        Using PostgreSQL
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#best-practices" class="md-nav__link">
    <span class="md-ellipsis">
      
        Best Practices
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Best Practices">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1-always-use-migrations" class="md-nav__link">
    <span class="md-ellipsis">
      
        1. Always Use Migrations
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2-use-str-method" class="md-nav__link">
    <span class="md-ellipsis">
      
        2. Use str Method
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3-add-indexes-for-frequently-queried-fields" class="md-nav__link">
    <span class="md-ellipsis">
      
        3. Add Indexes for Frequently Queried Fields
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4-use-select_related-and-prefetch_related" class="md-nav__link">
    <span class="md-ellipsis">
      
        4. Use select_related and prefetch_related
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5-validate-data-in-models" class="md-nav__link">
    <span class="md-ellipsis">
      
        5. Validate Data in Models
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#6-use-choices-for-fixed-options" class="md-nav__link">
    <span class="md-ellipsis">
      
        6. Use Choices for Fixed Options
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#summary" class="md-nav__link">
    <span class="md-ellipsis">
      
        Summary
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Summary">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#next-steps" class="md-nav__link">
    <span class="md-ellipsis">
      
        Next Steps
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="03_FBV_Views_and_URLs.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Views & URLs
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="04_FBV_Templates_and_Forms.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Templates & Forms
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="05_FBV_Complete_Project.html" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Complete Project
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h1 id="part-2-function-based-views-models-database">Part 2: Function-Based Views - Models &amp; Database<a class="headerlink" href="#part-2-function-based-views-models-database" title="Permanent link">&para;</a></h1>
<h2 id="understanding-django-models">Understanding Django Models<a class="headerlink" href="#understanding-django-models" title="Permanent link">&para;</a></h2>
<p>Models are Python classes that define the structure of your database tables. Django's ORM (Object-Relational Mapping) automatically converts these Python classes into database tables.</p>
<h3 id="why-use-django-orm">Why Use Django ORM?<a class="headerlink" href="#why-use-django-orm" title="Permanent link">&para;</a></h3>
<ul>
<li><strong>Database Agnostic</strong>: Write Python, not SQL</li>
<li><strong>Type Safety</strong>: Python type checking</li>
<li><strong>Relationships</strong>: Easy foreign keys and many-to-many</li>
<li><strong>Migrations</strong>: Automatic schema versioning</li>
<li><strong>Query API</strong>: Powerful and intuitive querying</li>
</ul>
<hr />
<h2 id="creating-the-task-model">Creating the Task Model<a class="headerlink" href="#creating-the-task-model" title="Permanent link">&para;</a></h2>
<p>For our Task Management System, we need a Task model with the following features:
- Title and description
- Priority levels (Low, Medium, High)
- Status tracking (Pending, In Progress, Completed)
- User ownership
- Timestamps
- Due dates</p>
<h3 id="step-1-define-the-model">Step 1: Define the Model<a class="headerlink" href="#step-1-define-the-model" title="Permanent link">&para;</a></h3>
<p>Open <code>tasks/models.py</code> and add:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.db</span><span class="w"> </span><span class="kn">import</span> <span class="n">models</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">User</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.utils</span><span class="w"> </span><span class="kn">import</span> <span class="n">timezone</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">PRIORITY_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;low&#39;</span><span class="p">,</span> <span class="s1">&#39;Low&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;medium&#39;</span><span class="p">,</span> <span class="s1">&#39;Medium&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;high&#39;</span><span class="p">,</span> <span class="s1">&#39;High&#39;</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="n">STATUS_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">(</span><span class="s1">&#39;pending&#39;</span><span class="p">,</span> <span class="s1">&#39;Pending&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;in_progress&#39;</span><span class="p">,</span> <span class="s1">&#39;In Progress&#39;</span><span class="p">),</span>
        <span class="p">(</span><span class="s1">&#39;completed&#39;</span><span class="p">,</span> <span class="s1">&#39;Completed&#39;</span><span class="p">),</span>
    <span class="p">]</span>

    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
    <span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">priority</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> 
        <span class="n">choices</span><span class="o">=</span><span class="n">PRIORITY_CHOICES</span><span class="p">,</span> 
        <span class="n">default</span><span class="o">=</span><span class="s1">&#39;medium&#39;</span>
    <span class="p">)</span>
    <span class="n">status</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span>
        <span class="n">max_length</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> 
        <span class="n">choices</span><span class="o">=</span><span class="n">STATUS_CHOICES</span><span class="p">,</span> 
        <span class="n">default</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span>
    <span class="p">)</span>
    <span class="n">created_by</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span>
        <span class="n">User</span><span class="p">,</span> 
        <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> 
        <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;tasks&#39;</span>
    <span class="p">)</span>
    <span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
    <span class="n">updated_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">due_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">is_completed</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

    <span class="c1"># Soft delete fields</span>
    <span class="n">is_deleted</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">deleted_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

    <span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
        <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-created_at&#39;</span><span class="p">]</span>
        <span class="n">verbose_name</span> <span class="o">=</span> <span class="s1">&#39;Task&#39;</span>
        <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s1">&#39;Tasks&#39;</span>

    <span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">mark_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark task as completed&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_completed</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;completed&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">mark_incomplete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Mark task as incomplete&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_completed</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;pending&#39;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">soft_delete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Soft delete the task (mark as deleted without removing from database)&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_deleted</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deleted_at</span> <span class="o">=</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">restore</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Restore a soft-deleted task&quot;&quot;&quot;</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">is_deleted</span> <span class="o">=</span> <span class="kc">False</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">deleted_at</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>

<h3 id="understanding-model-fields">Understanding Model Fields<a class="headerlink" href="#understanding-model-fields" title="Permanent link">&para;</a></h3>
<p><strong>CharField</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>For short text (up to max_length characters)</li>
<li>Required by default</li>
<li>Use for: names, titles, short descriptions</li>
</ul>
<p><strong>TextField</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">description</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">(</span><span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>For long text (unlimited length)</li>
<li><code>blank=True</code>: Field can be empty in forms</li>
<li>Use for: descriptions, comments, content</li>
</ul>
<p><strong>ForeignKey</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">created_by</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">,</span> <span class="n">related_name</span><span class="o">=</span><span class="s1">&#39;tasks&#39;</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>Creates many-to-one relationship</li>
<li><code>on_delete=models.CASCADE</code>: Delete tasks when user is deleted</li>
<li><code>related_name='tasks'</code>: Access user's tasks via <code>user.tasks.all()</code></li>
</ul>
<p><strong>DateTimeField</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">created_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">)</span>
<span class="n">updated_at</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateTimeField</span><span class="p">(</span><span class="n">auto_now</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<ul>
<li><code>default=timezone.now</code>: Set on creation</li>
<li><code>auto_now=True</code>: Update on every save</li>
<li>Always use <code>timezone.now</code> (not <code>timezone.now()</code>)</li>
</ul>
<p><strong>DateField</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">due_date</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">DateField</span><span class="p">(</span><span class="n">null</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>Stores date only (no time)</li>
<li><code>null=True</code>: Can be NULL in database</li>
<li><code>blank=True</code>: Can be empty in forms</li>
</ul>
<p><strong>BooleanField</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">is_completed</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">BooleanField</span><span class="p">(</span><span class="n">default</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>True/False values</li>
<li>Always has a default value</li>
</ul>
<p><strong>Choices</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">PRIORITY_CHOICES</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">(</span><span class="s1">&#39;low&#39;</span><span class="p">,</span> <span class="s1">&#39;Low&#39;</span><span class="p">),</span>      <span class="c1"># (stored value, display value)</span>
    <span class="p">(</span><span class="s1">&#39;medium&#39;</span><span class="p">,</span> <span class="s1">&#39;Medium&#39;</span><span class="p">),</span>
    <span class="p">(</span><span class="s1">&#39;high&#39;</span><span class="p">,</span> <span class="s1">&#39;High&#39;</span><span class="p">),</span>
<span class="p">]</span>
<span class="n">priority</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="n">PRIORITY_CHOICES</span><span class="p">)</span>
</code></pre></div>

<ul>
<li>Restricts field to predefined values</li>
<li>First value stored in DB, second shown to users</li>
<li>Access display value: <code>task.get_priority_display()</code></li>
</ul>
<h3 id="meta-class-options">Meta Class Options<a class="headerlink" href="#meta-class-options" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
    <span class="n">ordering</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;-created_at&#39;</span><span class="p">]</span>  <span class="c1"># Default ordering (newest first)</span>
    <span class="n">verbose_name</span> <span class="o">=</span> <span class="s1">&#39;Task&#39;</span>       <span class="c1"># Singular name in admin</span>
    <span class="n">verbose_name_plural</span> <span class="o">=</span> <span class="s1">&#39;Tasks&#39;</span>  <span class="c1"># Plural name in admin</span>
</code></pre></div>

<p>Other useful Meta options:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
    <span class="n">db_table</span> <span class="o">=</span> <span class="s1">&#39;custom_table_name&#39;</span>  <span class="c1"># Custom table name</span>
    <span class="n">unique_together</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;field1&#39;</span><span class="p">,</span> <span class="s1">&#39;field2&#39;</span><span class="p">]</span>  <span class="c1"># Unique combination</span>
    <span class="n">indexes</span> <span class="o">=</span> <span class="p">[</span><span class="n">models</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">])]</span>  <span class="c1"># Database indexes</span>
</code></pre></div>

<h3 id="model-methods">Model Methods<a class="headerlink" href="#model-methods" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
</code></pre></div>

<ul>
<li>Returns string representation</li>
<li>Used in admin interface and shell</li>
<li>Should return something meaningful</li>
</ul>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">mark_complete</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">is_completed</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="s1">&#39;completed&#39;</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>

<ul>
<li>Custom business logic</li>
<li>Encapsulates related operations</li>
<li>Makes code more maintainable</li>
</ul>
<hr />
<h2 id="database-migrations">Database Migrations<a class="headerlink" href="#database-migrations" title="Permanent link">&para;</a></h2>
<p>Migrations are Django's way of propagating model changes to the database schema.</p>
<h3 id="step-1-create-migrations">Step 1: Create Migrations<a class="headerlink" href="#step-1-create-migrations" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>makemigrations
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code>Migrations for &#39;tasks&#39;:
  tasks/migrations/0001_initial.py
    <span class="k">-</span> Create model Task
</code></pre></div>

<p>This creates a migration file in <code>tasks/migrations/0001_initial.py</code></p>
<h3 id="step-2-view-migration-sql">Step 2: View Migration SQL<a class="headerlink" href="#step-2-view-migration-sql" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>sqlmigrate<span class="w"> </span>tasks<span class="w"> </span><span class="m">0001</span>
</code></pre></div>

<p>This shows the SQL that will be executed:</p>
<div class="codehilite"><pre><span></span><code><span class="k">BEGIN</span><span class="p">;</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">TABLE</span><span class="w"> </span><span class="ss">&quot;tasks_task&quot;</span><span class="w"> </span><span class="p">(</span>
<span class="w">    </span><span class="ss">&quot;id&quot;</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">PRIMARY</span><span class="w"> </span><span class="k">KEY</span><span class="w"> </span><span class="n">AUTOINCREMENT</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;title&quot;</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">200</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;description&quot;</span><span class="w"> </span><span class="nb">text</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;priority&quot;</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;status&quot;</span><span class="w"> </span><span class="nb">varchar</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;created_at&quot;</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;updated_at&quot;</span><span class="w"> </span><span class="n">datetime</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;due_date&quot;</span><span class="w"> </span><span class="nb">date</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;is_completed&quot;</span><span class="w"> </span><span class="n">bool</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="p">,</span>
<span class="w">    </span><span class="ss">&quot;created_by_id&quot;</span><span class="w"> </span><span class="nb">integer</span><span class="w"> </span><span class="k">NOT</span><span class="w"> </span><span class="k">NULL</span><span class="w"> </span><span class="k">REFERENCES</span><span class="w"> </span><span class="ss">&quot;auth_user&quot;</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;id&quot;</span><span class="p">)</span>
<span class="p">);</span>
<span class="k">CREATE</span><span class="w"> </span><span class="k">INDEX</span><span class="w"> </span><span class="ss">&quot;tasks_task_created_by_id&quot;</span><span class="w"> </span><span class="k">ON</span><span class="w"> </span><span class="ss">&quot;tasks_task&quot;</span><span class="w"> </span><span class="p">(</span><span class="ss">&quot;created_by_id&quot;</span><span class="p">);</span>
<span class="k">COMMIT</span><span class="p">;</span>
</code></pre></div>

<h3 id="step-3-apply-migrations">Step 3: Apply Migrations<a class="headerlink" href="#step-3-apply-migrations" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>migrate
</code></pre></div>

<p><strong>Output:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="nx">Operations</span><span class="w"> </span><span class="nx">to</span><span class="w"> </span><span class="nx">perform</span><span class="p">:</span>
<span class="w">  </span><span class="nx">Apply</span><span class="w"> </span><span class="nx">all</span><span class="w"> </span><span class="nx">migrations</span><span class="p">:</span><span class="w"> </span><span class="nx">admin</span><span class="p">,</span><span class="w"> </span><span class="nx">auth</span><span class="p">,</span><span class="w"> </span><span class="nx">contenttypes</span><span class="p">,</span><span class="w"> </span><span class="nx">sessions</span><span class="p">,</span><span class="w"> </span><span class="nx">tasks</span>
<span class="nx">Running</span><span class="w"> </span><span class="nx">migrations</span><span class="p">:</span>
<span class="w">  </span><span class="nx">Applying</span><span class="w"> </span><span class="nx">tasks</span><span class="m m-Double">.0001</span><span class="nx">_initial</span><span class="o">...</span><span class="w"> </span><span class="nx">OK</span>
</code></pre></div>

<h3 id="migration-commands-summary">Migration Commands Summary<a class="headerlink" href="#migration-commands-summary" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Create migration files</span>
python<span class="w"> </span>manage.py<span class="w"> </span>makemigrations

<span class="c1"># Create migration for specific app</span>
python<span class="w"> </span>manage.py<span class="w"> </span>makemigrations<span class="w"> </span>tasks

<span class="c1"># Name your migration</span>
python<span class="w"> </span>manage.py<span class="w"> </span>makemigrations<span class="w"> </span>--name<span class="w"> </span>add_task_category

<span class="c1"># Show all migrations</span>
python<span class="w"> </span>manage.py<span class="w"> </span>showmigrations

<span class="c1"># Show SQL for migration</span>
python<span class="w"> </span>manage.py<span class="w"> </span>sqlmigrate<span class="w"> </span>tasks<span class="w"> </span><span class="m">0001</span>

<span class="c1"># Apply migrations</span>
python<span class="w"> </span>manage.py<span class="w"> </span>migrate

<span class="c1"># Migrate to specific migration</span>
python<span class="w"> </span>manage.py<span class="w"> </span>migrate<span class="w"> </span>tasks<span class="w"> </span><span class="m">0001</span>

<span class="c1"># Reverse migrations</span>
python<span class="w"> </span>manage.py<span class="w"> </span>migrate<span class="w"> </span>tasks<span class="w"> </span>zero
</code></pre></div>

<hr />
<h2 id="django-orm-querying-the-database">Django ORM: Querying the Database<a class="headerlink" href="#django-orm-querying-the-database" title="Permanent link">&para;</a></h2>
<p>The Django ORM provides a powerful API for database operations.</p>
<h3 id="using-django-shell">Using Django Shell<a class="headerlink" href="#using-django-shell" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>shell
</code></pre></div>

<h3 id="creating-objects">Creating Objects<a class="headerlink" href="#creating-objects" title="Permanent link">&para;</a></h3>
<p><strong>Method 1: Create and Save</strong></p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">tasks.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">User</span>

<span class="c1"># Get a user</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

<span class="c1"># Create task</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Complete Django Tutorial&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Learn Django from scratch&quot;</span><span class="p">,</span>
    <span class="n">priority</span><span class="o">=</span><span class="s2">&quot;high&quot;</span><span class="p">,</span>
    <span class="n">created_by</span><span class="o">=</span><span class="n">user</span>
<span class="p">)</span>
<span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>

<p><strong>Method 2: Create in One Step</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Build Portfolio&quot;</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="s2">&quot;Create personal portfolio website&quot;</span><span class="p">,</span>
    <span class="n">priority</span><span class="o">=</span><span class="s2">&quot;medium&quot;</span><span class="p">,</span>
    <span class="n">created_by</span><span class="o">=</span><span class="n">user</span>
<span class="p">)</span>
</code></pre></div>

<p><strong>Method 3: Get or Create</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">task</span><span class="p">,</span> <span class="n">created</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get_or_create</span><span class="p">(</span>
    <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Daily Standup&quot;</span><span class="p">,</span>
    <span class="n">created_by</span><span class="o">=</span><span class="n">user</span><span class="p">,</span>
    <span class="n">defaults</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;priority&#39;</span><span class="p">:</span> <span class="s1">&#39;low&#39;</span><span class="p">}</span>
<span class="p">)</span>
<span class="c1"># created is True if new, False if existed</span>
</code></pre></div>

<h3 id="reading-objects">Reading Objects<a class="headerlink" href="#reading-objects" title="Permanent link">&para;</a></h3>
<p><strong>Get All Objects</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Get all tasks</span>
<span class="n">all_tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

<span class="c1"># Iterate over tasks</span>
<span class="k">for</span> <span class="n">task</span> <span class="ow">in</span> <span class="n">all_tasks</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">task</span><span class="o">.</span><span class="n">title</span><span class="p">)</span>
</code></pre></div>

<p><strong>Get Single Object</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Get by ID</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># Get by field</span>
<span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Complete Django Tutorial&quot;</span><span class="p">)</span>

<span class="c1"># Raises DoesNotExist if not found</span>
<span class="c1"># Raises MultipleObjectsReturned if multiple found</span>
</code></pre></div>

<p><strong>Filter Objects</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Filter by field</span>
<span class="n">high_priority</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span>

<span class="c1"># Multiple conditions (AND)</span>
<span class="n">pending_high</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">priority</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">,</span>
    <span class="n">status</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span>
<span class="p">)</span>

<span class="c1"># Exclude</span>
<span class="n">not_completed</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">is_completed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Chain filters</span>
<span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">exclude</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;completed&#39;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Field Lookups</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Exact match (default)</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__exact</span><span class="o">=</span><span class="s2">&quot;My Task&quot;</span><span class="p">)</span>

<span class="c1"># Case-insensitive exact</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__iexact</span><span class="o">=</span><span class="s2">&quot;my task&quot;</span><span class="p">)</span>

<span class="c1"># Contains</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__contains</span><span class="o">=</span><span class="s2">&quot;Django&quot;</span><span class="p">)</span>

<span class="c1"># Case-insensitive contains</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__icontains</span><span class="o">=</span><span class="s2">&quot;django&quot;</span><span class="p">)</span>

<span class="c1"># Starts with</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">title__startswith</span><span class="o">=</span><span class="s2">&quot;Complete&quot;</span><span class="p">)</span>

<span class="c1"># Greater than</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">id__gt</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="c1"># Less than or equal</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">id__lte</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>

<span class="c1"># In list</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">priority__in</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;high&#39;</span><span class="p">,</span> <span class="s1">&#39;medium&#39;</span><span class="p">])</span>

<span class="c1"># Date comparisons</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">datetime</span><span class="w"> </span><span class="kn">import</span> <span class="n">date</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">due_date__gte</span><span class="o">=</span><span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">())</span>
</code></pre></div>

<p><strong>Ordering</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Order by field (ascending)</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;created_at&#39;</span><span class="p">)</span>

<span class="c1"># Descending</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;-created_at&#39;</span><span class="p">)</span>

<span class="c1"># Multiple fields</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">order_by</span><span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;-created_at&#39;</span><span class="p">)</span>
</code></pre></div>

<p><strong>Limiting Results</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># First 5 tasks</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()[:</span><span class="mi">5</span><span class="p">]</span>

<span class="c1"># Tasks 5-10</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()[</span><span class="mi">5</span><span class="p">:</span><span class="mi">10</span><span class="p">]</span>

<span class="c1"># First task</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>

<span class="c1"># Last task</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">last</span><span class="p">()</span>
</code></pre></div>

<h3 id="updating-objects">Updating Objects<a class="headerlink" href="#updating-objects" title="Permanent link">&para;</a></h3>
<p><strong>Update Single Object</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">task</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s2">&quot;Updated Title&quot;</span>
<span class="n">task</span><span class="o">.</span><span class="n">priority</span> <span class="o">=</span> <span class="s2">&quot;high&quot;</span>
<span class="n">task</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
</code></pre></div>

<p><strong>Update Multiple Objects</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Update all pending tasks</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;medium&#39;</span><span class="p">)</span>

<span class="c1"># Returns number of rows updated</span>
<span class="n">count</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_completed</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;in_progress&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="deleting-objects">Deleting Objects<a class="headerlink" href="#deleting-objects" title="Permanent link">&para;</a></h3>
<p><strong>Delete Single Object</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">task</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div>

<p><strong>Delete Multiple Objects</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Delete all completed tasks</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">is_completed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>

<span class="c1"># Delete all tasks</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">all</span><span class="p">()</span><span class="o">.</span><span class="n">delete</span><span class="p">()</span>
</code></pre></div>

<h3 id="complex-queries-with-q-objects">Complex Queries with Q Objects<a class="headerlink" href="#complex-queries-with-q-objects" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.db.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Q</span>

<span class="c1"># OR condition</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="n">Q</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;in_progress&#39;</span><span class="p">))</span>

<span class="c1"># AND with OR</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="n">Q</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span> <span class="o">|</span> <span class="n">Q</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;medium&#39;</span><span class="p">),</span>
    <span class="n">status</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span>
<span class="p">)</span>

<span class="c1"># NOT</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="o">~</span><span class="n">Q</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;completed&#39;</span><span class="p">))</span>

<span class="c1"># Complex combinations</span>
<span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span>
    <span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">Q</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span><span class="p">))</span> <span class="o">|</span>
    <span class="p">(</span><span class="n">Q</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;medium&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">Q</span><span class="p">(</span><span class="n">is_completed</span><span class="o">=</span><span class="kc">False</span><span class="p">))</span>
<span class="p">)</span>
</code></pre></div>

<h3 id="aggregation-and-annotation">Aggregation and Annotation<a class="headerlink" href="#aggregation-and-annotation" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.db.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Count</span><span class="p">,</span> <span class="n">Avg</span><span class="p">,</span> <span class="n">Max</span><span class="p">,</span> <span class="n">Min</span><span class="p">,</span> <span class="n">Sum</span>

<span class="c1"># Count tasks</span>
<span class="n">task_count</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Count by filter</span>
<span class="n">pending_count</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">status</span><span class="o">=</span><span class="s1">&#39;pending&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Aggregate</span>
<span class="n">stats</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span>
    <span class="n">total</span><span class="o">=</span><span class="n">Count</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">),</span>
    <span class="n">completed</span><span class="o">=</span><span class="n">Count</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="nb">filter</span><span class="o">=</span><span class="n">Q</span><span class="p">(</span><span class="n">is_completed</span><span class="o">=</span><span class="kc">True</span><span class="p">))</span>
<span class="p">)</span>
<span class="c1"># Returns: {&#39;total&#39;: 10, &#39;completed&#39;: 5}</span>

<span class="c1"># Annotate (add calculated field to each object)</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib.auth.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">User</span>
<span class="n">users_with_task_count</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span>
    <span class="n">task_count</span><span class="o">=</span><span class="n">Count</span><span class="p">(</span><span class="s1">&#39;tasks&#39;</span><span class="p">)</span>
<span class="p">)</span>
<span class="k">for</span> <span class="n">user</span> <span class="ow">in</span> <span class="n">users_with_task_count</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">username</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">user</span><span class="o">.</span><span class="n">task_count</span><span class="si">}</span><span class="s2"> tasks&quot;</span><span class="p">)</span>
</code></pre></div>

<h3 id="related-object-queries">Related Object Queries<a class="headerlink" href="#related-object-queries" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Get user&#39;s tasks (forward relation)</span>
<span class="n">user</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">username</span><span class="o">=</span><span class="s1">&#39;john&#39;</span><span class="p">)</span>
<span class="n">user_tasks</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>  <span class="c1"># uses related_name=&#39;tasks&#39;</span>

<span class="c1"># Filter related objects</span>
<span class="n">high_priority_tasks</span> <span class="o">=</span> <span class="n">user</span><span class="o">.</span><span class="n">tasks</span><span class="o">.</span><span class="n">filter</span><span class="p">(</span><span class="n">priority</span><span class="o">=</span><span class="s1">&#39;high&#39;</span><span class="p">)</span>

<span class="c1"># Reverse lookup (without related_name)</span>
<span class="c1"># user.task_set.all()</span>

<span class="c1"># Select related (optimize queries)</span>
<span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">select_related</span><span class="p">(</span><span class="s1">&#39;created_by&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
<span class="c1"># Fetches user data in same query (reduces DB hits)</span>

<span class="c1"># Prefetch related (for many-to-many or reverse FK)</span>
<span class="n">users</span> <span class="o">=</span> <span class="n">User</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">prefetch_related</span><span class="p">(</span><span class="s1">&#39;tasks&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div>

<hr />
<h2 id="register-model-in-admin">Register Model in Admin<a class="headerlink" href="#register-model-in-admin" title="Permanent link">&para;</a></h2>
<p>To manage tasks through Django admin, register the model.</p>
<p>Open <code>tasks/admin.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.contrib</span><span class="w"> </span><span class="kn">import</span> <span class="n">admin</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">.models</span><span class="w"> </span><span class="kn">import</span> <span class="n">Task</span>

<span class="nd">@admin</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Task</span><span class="p">)</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TaskAdmin</span><span class="p">(</span><span class="n">admin</span><span class="o">.</span><span class="n">ModelAdmin</span><span class="p">):</span>
    <span class="n">list_display</span> <span class="o">=</span> <span class="p">[</span>
        <span class="s1">&#39;title&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;priority&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;status&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;created_by&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;due_date&#39;</span><span class="p">,</span> 
        <span class="s1">&#39;is_completed&#39;</span><span class="p">,</span>
        <span class="s1">&#39;created_at&#39;</span>
    <span class="p">]</span>
    <span class="n">list_filter</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;is_completed&#39;</span><span class="p">,</span> <span class="s1">&#39;created_at&#39;</span><span class="p">]</span>
    <span class="n">search_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">]</span>
    <span class="n">list_editable</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;priority&#39;</span><span class="p">]</span>
    <span class="n">date_hierarchy</span> <span class="o">=</span> <span class="s1">&#39;created_at&#39;</span>
    <span class="n">readonly_fields</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;updated_at&#39;</span><span class="p">]</span>

    <span class="n">fieldsets</span> <span class="o">=</span> <span class="p">(</span>
        <span class="p">(</span><span class="s1">&#39;Task Information&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,</span> <span class="s1">&#39;description&#39;</span><span class="p">,</span> <span class="s1">&#39;created_by&#39;</span><span class="p">)</span>
        <span class="p">}),</span>
        <span class="p">(</span><span class="s1">&#39;Task Details&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;priority&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;due_date&#39;</span><span class="p">,</span> <span class="s1">&#39;is_completed&#39;</span><span class="p">)</span>
        <span class="p">}),</span>
        <span class="p">(</span><span class="s1">&#39;Timestamps&#39;</span><span class="p">,</span> <span class="p">{</span>
            <span class="s1">&#39;fields&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;created_at&#39;</span><span class="p">,</span> <span class="s1">&#39;updated_at&#39;</span><span class="p">),</span>
            <span class="s1">&#39;classes&#39;</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;collapse&#39;</span><span class="p">,)</span>
        <span class="p">}),</span>
    <span class="p">)</span>

    <span class="k">def</span><span class="w"> </span><span class="nf">get_queryset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">):</span>
        <span class="n">qs</span> <span class="o">=</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">get_queryset</span><span class="p">(</span><span class="n">request</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">qs</span><span class="o">.</span><span class="n">select_related</span><span class="p">(</span><span class="s1">&#39;created_by&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="admin-customization-options">Admin Customization Options<a class="headerlink" href="#admin-customization-options" title="Permanent link">&para;</a></h3>
<p><strong>list_display</strong>: Columns in list view
<strong>list_filter</strong>: Sidebar filters
<strong>search_fields</strong>: Fields to search
<strong>list_editable</strong>: Edit directly in list view
<strong>date_hierarchy</strong>: Date-based navigation
<strong>readonly_fields</strong>: Cannot be edited
<strong>fieldsets</strong>: Group fields in edit form
<strong>ordering</strong>: Default ordering
<strong>list_per_page</strong>: Pagination</p>
<h3 id="access-admin-interface">Access Admin Interface<a class="headerlink" href="#access-admin-interface" title="Permanent link">&para;</a></h3>
<ol>
<li>Start server: <code>python manage.py runserver</code></li>
<li>Visit: <code>http://127.0.0.1:8000/admin/</code></li>
<li>Login with superuser credentials</li>
<li>You'll see Tasks in the admin!</li>
</ol>
<hr />
<h2 id="model-relationships">Model Relationships<a class="headerlink" href="#model-relationships" title="Permanent link">&para;</a></h2>
<p>Django supports three types of relationships:</p>
<h3 id="one-to-many-foreignkey">One-to-Many (ForeignKey)<a class="headerlink" href="#one-to-many-foreignkey" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">created_by</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
</code></pre></div>

<p><strong>on_delete options:</strong>
- <code>CASCADE</code>: Delete tasks when user deleted
- <code>PROTECT</code>: Prevent user deletion if has tasks
- <code>SET_NULL</code>: Set to NULL (requires null=True)
- <code>SET_DEFAULT</code>: Set to default value
- <code>DO_NOTHING</code>: Do nothing (can cause DB errors)</p>
<h3 id="many-to-many">Many-to-Many<a class="headerlink" href="#many-to-many" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Task</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ManyToManyField</span><span class="p">(</span><span class="s1">&#39;Tag&#39;</span><span class="p">,</span> <span class="n">blank</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">Tag</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">50</span><span class="p">)</span>
</code></pre></div>

<p><strong>Usage:</strong></p>
<div class="codehilite"><pre><span></span><code><span class="n">task</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="nb">id</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">tag</span> <span class="o">=</span> <span class="n">Tag</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;urgent&#39;</span><span class="p">)</span>

<span class="c1"># Add tag</span>
<span class="n">task</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>

<span class="c1"># Remove tag</span>
<span class="n">task</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">tag</span><span class="p">)</span>

<span class="c1"># Get all tags</span>
<span class="n">task</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>

<span class="c1"># Clear all tags</span>
<span class="n">task</span><span class="o">.</span><span class="n">tags</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
</code></pre></div>

<h3 id="one-to-one">One-to-One<a class="headerlink" href="#one-to-one" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">UserProfile</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">user</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">OneToOneField</span><span class="p">(</span><span class="n">User</span><span class="p">,</span> <span class="n">on_delete</span><span class="o">=</span><span class="n">models</span><span class="o">.</span><span class="n">CASCADE</span><span class="p">)</span>
    <span class="n">bio</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">TextField</span><span class="p">()</span>
    <span class="n">avatar</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ImageField</span><span class="p">(</span><span class="n">upload_to</span><span class="o">=</span><span class="s1">&#39;avatars/&#39;</span><span class="p">)</span>
</code></pre></div>

<hr />
<h2 id="database-setup">Database Setup<a class="headerlink" href="#database-setup" title="Permanent link">&para;</a></h2>
<p>Django supports multiple databases:
- SQLite (default, good for development)
- <strong>PostgreSQL (recommended for production and this tutorial)</strong>
- MySQL
- Oracle</p>
<h3 id="using-postgresql">Using PostgreSQL<a class="headerlink" href="#using-postgresql" title="Permanent link">&para;</a></h3>
<p>PostgreSQL is a powerful, open-source relational database. We'll use it for our project.</p>
<p><strong>Step 1: Install PostgreSQL</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Ubuntu/Debian</span>
sudo<span class="w"> </span>apt<span class="w"> </span>update
sudo<span class="w"> </span>apt<span class="w"> </span>install<span class="w"> </span>postgresql<span class="w"> </span>postgresql-contrib

<span class="c1"># macOS (using Homebrew)</span>
brew<span class="w"> </span>install<span class="w"> </span>postgresql

<span class="c1"># Windows</span>
<span class="c1"># Download installer from https://www.postgresql.org/download/windows/</span>
</code></pre></div>

<p><strong>Step 2: Install Python PostgreSQL Adapter</strong></p>
<div class="codehilite"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>psycopg2-binary
</code></pre></div>

<p><strong>Step 3: Create Database and User</strong></p>
<div class="codehilite"><pre><span></span><code><span class="c1"># Access PostgreSQL shell</span>
sudo<span class="w"> </span>-u<span class="w"> </span>postgres<span class="w"> </span>psql

<span class="c1"># In PostgreSQL shell, run:</span>
CREATE<span class="w"> </span>DATABASE<span class="w"> </span>taskmanager_db<span class="p">;</span>
CREATE<span class="w"> </span>USER<span class="w"> </span>taskmanager_user<span class="w"> </span>WITH<span class="w"> </span>PASSWORD<span class="w"> </span><span class="s1">&#39;your_secure_password&#39;</span><span class="p">;</span>
ALTER<span class="w"> </span>ROLE<span class="w"> </span>taskmanager_user<span class="w"> </span>SET<span class="w"> </span>client_encoding<span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;utf8&#39;</span><span class="p">;</span>
ALTER<span class="w"> </span>ROLE<span class="w"> </span>taskmanager_user<span class="w"> </span>SET<span class="w"> </span>default_transaction_isolation<span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;read committed&#39;</span><span class="p">;</span>
ALTER<span class="w"> </span>ROLE<span class="w"> </span>taskmanager_user<span class="w"> </span>SET<span class="w"> </span>timezone<span class="w"> </span>TO<span class="w"> </span><span class="s1">&#39;UTC&#39;</span><span class="p">;</span>
GRANT<span class="w"> </span>ALL<span class="w"> </span>PRIVILEGES<span class="w"> </span>ON<span class="w"> </span>DATABASE<span class="w"> </span>taskmanager_db<span class="w"> </span>TO<span class="w"> </span>taskmanager_user<span class="p">;</span>

<span class="c1"># Exit PostgreSQL shell</span>
<span class="se">\q</span>
</code></pre></div>

<p><strong>Step 4: Configure Django Settings</strong></p>
<p>Update <code>taskmanager/settings.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.postgresql&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="s1">&#39;taskmanager_db&#39;</span><span class="p">,</span>
        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="s1">&#39;taskmanager_user&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="s1">&#39;your_secure_password&#39;</span><span class="p">,</span>
        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="s1">&#39;localhost&#39;</span><span class="p">,</span>
        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="s1">&#39;5432&#39;</span><span class="p">,</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Best Practice: Use Environment Variables</strong></p>
<p>Install python-decouple:</p>
<div class="codehilite"><pre><span></span><code>pip<span class="w"> </span>install<span class="w"> </span>python-decouple
</code></pre></div>

<p>Create <code>.env</code> file in project root:</p>
<div class="codehilite"><pre><span></span><code>DB_NAME=taskmanager_db
DB_USER=taskmanager_user
DB_PASSWORD=your_secure_password
DB_HOST=localhost
DB_PORT=5432
</code></pre></div>

<p>Update <code>settings.py</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">decouple</span><span class="w"> </span><span class="kn">import</span> <span class="n">config</span>

<span class="n">DATABASES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;default&#39;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s1">&#39;ENGINE&#39;</span><span class="p">:</span> <span class="s1">&#39;django.db.backends.postgresql&#39;</span><span class="p">,</span>
        <span class="s1">&#39;NAME&#39;</span><span class="p">:</span> <span class="n">config</span><span class="p">(</span><span class="s1">&#39;DB_NAME&#39;</span><span class="p">),</span>
        <span class="s1">&#39;USER&#39;</span><span class="p">:</span> <span class="n">config</span><span class="p">(</span><span class="s1">&#39;DB_USER&#39;</span><span class="p">),</span>
        <span class="s1">&#39;PASSWORD&#39;</span><span class="p">:</span> <span class="n">config</span><span class="p">(</span><span class="s1">&#39;DB_PASSWORD&#39;</span><span class="p">),</span>
        <span class="s1">&#39;HOST&#39;</span><span class="p">:</span> <span class="n">config</span><span class="p">(</span><span class="s1">&#39;DB_HOST&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">),</span>
        <span class="s1">&#39;PORT&#39;</span><span class="p">:</span> <span class="n">config</span><span class="p">(</span><span class="s1">&#39;DB_PORT&#39;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s1">&#39;5432&#39;</span><span class="p">),</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<p><strong>Step 5: Test Connection</strong></p>
<div class="codehilite"><pre><span></span><code>python<span class="w"> </span>manage.py<span class="w"> </span>check
</code></pre></div>

<p>If successful, you'll see: "System check identified no issues."</p>
<hr />
<h2 id="best-practices">Best Practices<a class="headerlink" href="#best-practices" title="Permanent link">&para;</a></h2>
<h3 id="1-always-use-migrations">1. Always Use Migrations<a class="headerlink" href="#1-always-use-migrations" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># After any model change</span>
python<span class="w"> </span>manage.py<span class="w"> </span>makemigrations
python<span class="w"> </span>manage.py<span class="w"> </span>migrate
</code></pre></div>

<h3 id="2-use-str-method">2. Use <strong>str</strong> Method<a class="headerlink" href="#2-use-str-method" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="fm">__str__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">title</span>
</code></pre></div>

<h3 id="3-add-indexes-for-frequently-queried-fields">3. Add Indexes for Frequently Queried Fields<a class="headerlink" href="#3-add-indexes-for-frequently-queried-fields" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">Meta</span><span class="p">:</span>
    <span class="n">indexes</span> <span class="o">=</span> <span class="p">[</span>
        <span class="n">models</span><span class="o">.</span><span class="n">Index</span><span class="p">(</span><span class="n">fields</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">,</span> <span class="s1">&#39;priority&#39;</span><span class="p">]),</span>
    <span class="p">]</span>
</code></pre></div>

<h3 id="4-use-select_related-and-prefetch_related">4. Use select_related and prefetch_related<a class="headerlink" href="#4-use-select_related-and-prefetch_related" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Optimize queries</span>
<span class="n">tasks</span> <span class="o">=</span> <span class="n">Task</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">select_related</span><span class="p">(</span><span class="s1">&#39;created_by&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">all</span><span class="p">()</span>
</code></pre></div>

<h3 id="5-validate-data-in-models">5. Validate Data in Models<a class="headerlink" href="#5-validate-data-in-models" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">django.core.exceptions</span><span class="w"> </span><span class="kn">import</span> <span class="n">ValidationError</span>

<span class="k">def</span><span class="w"> </span><span class="nf">clean</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
    <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">due_date</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">due_date</span> <span class="o">&lt;</span> <span class="n">timezone</span><span class="o">.</span><span class="n">now</span><span class="p">()</span><span class="o">.</span><span class="n">date</span><span class="p">():</span>
        <span class="k">raise</span> <span class="n">ValidationError</span><span class="p">(</span><span class="s1">&#39;Due date cannot be in the past&#39;</span><span class="p">)</span>
</code></pre></div>

<h3 id="6-use-choices-for-fixed-options">6. Use Choices for Fixed Options<a class="headerlink" href="#6-use-choices-for-fixed-options" title="Permanent link">&para;</a></h3>
<div class="codehilite"><pre><span></span><code><span class="n">PRIORITY_CHOICES</span> <span class="o">=</span> <span class="p">[(</span><span class="s1">&#39;low&#39;</span><span class="p">,</span> <span class="s1">&#39;Low&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;medium&#39;</span><span class="p">,</span> <span class="s1">&#39;Medium&#39;</span><span class="p">),</span> <span class="p">(</span><span class="s1">&#39;high&#39;</span><span class="p">,</span> <span class="s1">&#39;High&#39;</span><span class="p">)]</span>
</code></pre></div>

<hr />
<h2 id="summary">Summary<a class="headerlink" href="#summary" title="Permanent link">&para;</a></h2>
<p>You've learned:</p>
<p> How to create Django models
 Understanding model fields and options
 Creating and applying migrations
 Django ORM query API
 CRUD operations
 Complex queries with Q objects
 Model relationships
 Admin interface customization</p>
<h3 id="next-steps">Next Steps<a class="headerlink" href="#next-steps" title="Permanent link">&para;</a></h3>
<p> <strong>Continue to:</strong> <a href="03_FBV_Views_and_URLs.html"><code>03_FBV_Views_and_URLs.md</code></a></p>
<p>In the next section, we'll:
- Create function-based views
- Handle HTTP requests
- Configure URL routing
- Pass data to templates
- Implement CRUD operations</p>
<hr />
<p><strong>Your database is ready! Let's build the views! </strong></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        


<nav class="md-footer__nav md-grid pill-navigation" aria-label="Footer navigation">
  
  
  <a href="01_Introduction_and_Setup.html"
     class="pill-btn pill-prev"
     aria-label="Previous page">
    <span class="pill-arrow"></span>
    <span class="pill-text">PREVIOUS</span>
  </a>
  

  
  <a href="03_FBV_Views_and_URLs.html"
     class="pill-btn pill-next"
     aria-label="Next page">
    <span class="pill-text">NEXT</span>
    <span class="pill-arrow"></span>
  </a>
  

</nav>




<footer class="md-footer">
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner footer-custom">

      <!-- Left -->
      <div class="footer-col footer-left">
        <strong>Django Training Guide</strong>
      </div>

      <!-- Center -->
      <div class="footer-col footer-center">
        <p> 2026 Pragnakalp Techlabs</p>
      </div>

      <!-- Right -->
      <div class="footer-col footer-right">
        <p class="footer-heading">Contributors</p>
        <div class="contributors">
          <span class="contributor">Rahul</span>
          <span class="contributor">Nikunj</span>
          <span class="contributor">Neel</span>
          <span class="contributor">Dhvanil</span>
          <span class="contributor">Mansi</span>
          <span class="contributor">Darshit</span>
        </div>
      </div>

    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": ".", "features": ["navigation.sections", "navigation.expand", "navigation.instant", "toc.integrate", "content.code.copy", "navigation.footer"], "search": "assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>